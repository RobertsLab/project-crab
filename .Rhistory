qubitresults <- read.csv("data/20180817-Qubit-results.csv")
# add columns: "extraction_method" and "lyophilized_y_n"
qubitresults$extraction_method <- "RNAzol"
qubitresults$lyophilized_y_n <- "n"
# fix the qubitresults file so that it only has the columns of interest and add RNAzol extraction method column
qubitresults <- subset(qubitresults, select = c(tube_number, Test_Date, Original_sample_conc_ng.ul, total_sample_vol_ul, total_yield_ng, extraction_method, lyophilized_y_n))
#read in the new qubit csv
qubitnew <- read.csv("data/Qubit_data/QubitData_2018-10-10_18-19-56_UTF8.csv")
# Add in tube numbers to Qubit file in a new column called "tube_number"
qubitnew$tube_number <- c("491-1","452-1","455-1","405-1","430-1","441-1","437-1","418-1","410-1","493-1")
#rename "Original.sample.conc." column name to include units -- "Original_sample_conc_ng.ul" in order to get rid of unit column, as well as to be able to join with hemosample_qubit_table.csv
colnames(qubitnew)[colnames(qubitnew)=="Original.sample.conc."] <- "Original_sample_conc_ng.ul"
#rename "Test.Date" to "Test_Date" so that it joins correctly with hemoqubit
colnames(qubitnew)[colnames(qubitnew)=="Test.Date"] <- "Test_Date"
#before joining with hemo_qubit, add column with contents of extraction type, and whether lyophilized
qubitnew$extraction_method <- "Tri-reagent"
qubitnew$lyophilized_y_n <- "n"
#change "Original_sampel_conc_ng.ul" to character
qubitnew$Original_sample_conc_ng.ul <- as.character(qubitnew$Original_sample_conc_ng.ul)
#replace "Out of range" in "Original_sample_conc_ng.ul" to "0"s
qubitnew[qubitnew$Original_sample_conc_ng.ul == "Out of range",]$Original_sample_conc_ng.ul = 0
# add total_sample_vol_ul and total_yield_ng
# make sure that the "total_sample_vol_ul" is the ul of sample remaining after Qubit reading
qubitnew$total_sample_vol_ul <- "5"
# make "total_sample_vol_ul" and "Original_sample_conc_ng.ul" into numeric
qubitnew$total_sample_vol_ul <- as.numeric(qubitnew$total_sample_vol_ul)
qubitnew$Original_sample_conc_ng.ul <- as.numeric(qubitnew$Original_sample_conc_ng.ul)
# make "Original_sample_conc_ng.ul" and "total_sample_vol_ul" into objects
x <- qubitnew$Original_sample_conc_ng.ul
y <- qubitnew$total_sample_vol_ul
# make new column called "total_yield_ng" that multiplies "Original_sample_conc_ng.ul" and "total_sample_vol_ul"
qubitnew$total_yield_ng <- x * y
#list column names
colnames(qubitnew)
#call out the columns of interest of qubitnew
qubitnew2 <- subset(qubitnew, select = c(tube_number, Test_Date, Original_sample_conc_ng.ul, total_sample_vol_ul, total_yield_ng, extraction_method, lyophilized_y_n))
#check subset qubitnew2 file visually before concatenating to qubitresults
# figure out how to append the qubitnew2 to qubitresults
?append
mhemo2 <- append(mhemo, qubitnew2)
View(mhemo2)
# read .csv the combined qubit file containing all qubit results from RNAzol extractions
RNAzolQubit <- read.csv("data/20180817-Qubit-results.csv")
# read .csv the new qubit file
qubitnew <- read.csv("data/Qubit_data/QubitData_2018-10-10_18-19-56.csv")
sys(iconv -f utf-8 -t utf-8 -c QubitData_2018-10-10_18-19-56.csv, colnames(unique = TRUE)| \
sed 's/ng\/L/ng\/uL/g'
?sys
?system
# read in the UTF version of the new qubit data file
qubitnew <- read.csv("data/Qubit_data/QubitData_2018-10-10_18-19-56_UTF8.csv")
# read .csv the combined qubit file containing all qubit results from RNAzol extractions
RNAzolQubit <- read.csv("data/20180817-Qubit-results.csv")
# read in the UTF version of the new qubit data file
qubitnew <- read.csv("data/Qubit_data/QubitData_2018-10-10_18-19-56_UTF8.csv")
View(qubitnew)
# fix the RNAzolQubit file to contain only pertinent information and re-write.csv
# add columns: "extraction_method" and "lyophilized_y_n"
RNAzolQubit$extraction_method <- "RNAzol"
RNAzolQubit$lyophilized_y_n <- "n"
# fix the qubitresults file so that it only has the columns of interest and add RNAzol extraction method column
RNAzolQubit <- subset(RNAzolQubit, select = c(tube_number, Test_Date, Original_sample_conc_ng.ul, total_sample_vol_ul, total_yield_ng, extraction_method, lyophilized_y_n))
View(RNAzolQubit)
#write.csv to analyses
RNAzolQubit <- write.csv("analyses/RNAzol-Qubit.csv")
#write.csv to analyses
RNAzolQubit <- write.csv(RNAzolQubit, "analyses/RNAzol-Qubit.csv")
# read .csv the RNAzol-Qubit.csv
RzolQubit <- read.csv("analyses/RNAzol-Qubit.csv")
# read .csv the RNAzol-Qubit.csv
RzolQubit <- read.csv("analyses/RNAzol-Qubit.csv", header = TRUE)
#write.csv to analyses
RNAzolQubit <- write.csv(RNAzolQubit, "analyses/RNAzol_Qubit.csv")
# read .csv the combined qubit file containing all qubit results from RNAzol extractions
RNAzolQubit <- read.csv("data/20180817-Qubit-results.csv")
# fix the RNAzolQubit file to contain only pertinent information and re-write.csv
# add columns: "extraction_method" and "lyophilized_y_n"
RNAzolQubit$extraction_method <- "RNAzol"
RNAzolQubit$lyophilized_y_n <- "n"
# fix the qubitresults file so that it only has the columns of interest and add RNAzol extraction method column
RNAzolQubit <- subset(RNAzolQubit, select = c(tube_number, Test_Date, Original_sample_conc_ng.ul, total_sample_vol_ul, total_yield_ng, extraction_method, lyophilized_y_n))
#write.csv to analyses
RNAzolQubit <- write.csv(RNAzolQubit, "analyses/RNAzol_Qubit.csv")
# read .csv the RNAzol-Qubit.csv
RzolQ <- read.csv("analyses/RNAzol_Qubit.csv")
# read .csv the new qubit file
qubitnew <- read.csv("data/Qubit_data/QubitData_2018-10-10_18-19-56.csv")
# read in the UTF version of the new qubit data file
qubitnew <- read.csv("data/Qubit_data/QubitData_2018-10-10_18-19-56_UTF8.csv")
system("pwd")
# make the new qubit data .csv into a UTF
system("iconv -f utf-8 -t utf-8 -c data/Qubit_data/QubitData_2018-10-10_18-19-56.csv")
system("sed 's/(L)/(uL)/g' data/Qubit_data/QubitData_2018-10-10_18-19-56.csv")
system("sed 's/(L)/(uL)/g' data/Qubit_data/QubitData_2018-10-10_18-19-56.csv")
system("sed 's/ng\/L/ng\/uL/g' \ > data/Qubit_data/QubitData_2018-10-10_18-19-56_UTF8-new.csv, flag = "-c", mustWork = TRUE")
# read .csv the new qubit file
qubitnew <- read.csv("data/Qubit_data/QubitData_2018-10-10_18-19-56.csv")
# read .csv the new qubit file
qubitnew <- read.csv("data/Qubit_data/QubitData_2018-10-10_18-19-56.csv", header = TRUE, sep = ",")
# read .csv the new qubit file
qubitnew <- read.csv2("data/Qubit_data/QubitData_2018-10-10_18-19-56.csv", header = TRUE, sep = ",")
system("pwd")
# make the new qubit data .csv into a UTF
command="iconv -f utf-8 -t utf-8 -c QubitData_2018-10-10_18-19-56.csv | \ sed 's/(L)/(uL)/g' | \ sed 's/ng\/L/ng\/uL/g' \ > QubitData_2018-10-10_18-19-56_UTF8.csv"
system(command)
# make the new qubit data .csv into a UTF
command <- "iconv -f utf-8 -t utf-8 -c QubitData_2018-10-10_18-19-56.csv | \ sed 's/(L)/(uL)/g' | \ sed 's/ng\/L/ng\/uL/g' \ > QubitData_2018-10-10_18-19-56_UTF8.csv"
system(command)
# make the new qubit data .csv into a UTF
command <- "iconv -f utf-8 -t utf-8 -c QubitData_2018-10-10_18-19-56.csv | \ sed 's/(L)/(uL)/g' | \ sed 's/ng\/L/ng\/uL/g' \ > QubitData_2018-10-10_18-19-56_UTF8.csv"
# make the new qubit data .csv into a UTF
command <- "iconv -f utf-8 -t utf-8 -c data/Qubit_data/QubitData_2018-10-10_18-19-56.csv | \ sed 's/(L)/(uL)/g' | \ sed 's/ng\/L/ng\/uL/g' \ > analyses/QubitData_2018-10-10_18-19-56_UTF8.csv"
#convert new csv file to UTF-8
qubitnew <- read.csv("data/Qubit_data/QubitData_2018-10-10_18-19-56.csv", sep = ",", encoding = "UTF-8")
#convert new csv file to UTF-8
qubitnew <- read.csv("data/Qubit_data/QubitData_2018-10-10_18-19-56.csv", sep = ",", encoding = "UTF-8")
system("iconv -f utf-8 -t utf-8 -c QubitData_2018-10-19_13-22-52.csv | sed 's/(L)/(uL)/g' | sed 's/ng\\/L/ng\\/uL/g' > QubitData_2018-10-19_13-22-52_UTF8.csv")
system("iconv -f utf-8 -t utf-8 -c data/Qubit_data/QubitData_2018-10-19_13-22-52.csv | sed 's/(L)/(uL)/g' | sed 's/ng\\/L/ng\\/uL/g' > QubitData_2018-10-19_13-22-52_UTF8.csv")
system("iconv -f utf-8 -t utf-8 -c data/Qubit_data/QubitData_2018-10-31_17-54-22.csv | sed 's/(L)/(uL)/g' | sed 's/ng\\/L/ng\\/uL/g' > QubitData_2018-10-31_17-54-22_UTF8.csv")
system("iconv -f utf-8 -t utf-8 -c data/Qubit_data/QubitData_2018-10-31_17-54-22.csv | sed 's/(L)/(uL)/g' | sed 's/ng\\/L/ng\\/uL/g' > QubitData_2018-10-31_17-54-22_UTF8.csv")
qubitnew <- system("iconv -f utf-8 -t utf-8 -c data/Qubit_data/QubitData_2018-10-31_17-54-22.csv | sed 's/(L)/(uL)/g' | sed 's/ng\\/L/ng\\/uL/g' > QubitData_2018-10-31_17-54-22_UTF8.csv")
system("iconv -f utf-8 -t utf-8 -c data/Qubit_data/QubitData_2018-10-31_17-54-22.csv | sed 's/(L)/(uL)/g' | sed 's/ng\\/L/ng\\/uL/g' > QubitData_2018-10-31_17-54-22_UTF8.csv")
system("iconv -f utf-8 -t utf-8 -c data/Qubit_data/QubitData_2018-10-31_17-54-22.csv | sed 's/(L)/(uL)/g' | sed 's/ng\\/L/ng\\/uL/g' > data/Qubit_data/QubitData_2018-10-31_17-54-22_UTF8.csv")
#read in new UTF version of QubitData
qubitnew <- read.csv("data/Qubit_data/QubitData_2018-10-31_17-54-22_UTF8.csv")
View(qubitnew)
# Add in tube numbers to Qubit file in a new column called "tube_number"
qubitnew$tube_number <- c("423-2", "414-2")
#make "tube_number" characters
qubitnew$tube_number <- as.character(qubitnew$tube_number)
#rename "Original.sample.conc." column name to include units -- "Original_sample_conc_ng.ul" in order to get rid of unit column, as well as to be able to join with hemosample_qubit_table.csv
colnames(qubitnew)[colnames(qubitnew)=="Original.sample.conc."] <- "Original_sample_conc_ng.ul"
#rename "Test.Date" to "Test_Date" so that it joins correctly with hemoqubit
colnames(qubitnew)[colnames(qubitnew)=="Test.Date"] <- "Test_Date"
qubitnew$lyophilized_y_n <- "n"
#change "Original_sampel_conc_ng.ul" to character
qubitnew$Original_sample_conc_ng.ul <- as.character(qubitnew$Original_sample_conc_ng.ul)
#replace "Out of range" in "Original_sample_conc_ng.ul" to "0"s
qubitnew[qubitnew$Original_sample_conc_ng.ul == "Out of range",]$Original_sample_conc_ng.ul = 0
# add total_sample_vol_ul and total_yield_ng
# make sure that the "total_sample_vol_ul" is the ul of sample remaining after Qubit reading and Bioanalyzer/NanoDrop
qubitnew$total_sample_vol_ul <- "12"
# make "total_sample_vol_ul" and "Original_sample_conc_ng.ul" into numeric
qubitnew$total_sample_vol_ul <- as.numeric(qubitnew$total_sample_vol_ul)
qubitnew$Original_sample_conc_ng.ul <- as.numeric(qubitnew$Original_sample_conc_ng.ul)
# make "Original_sample_conc_ng.ul" and "total_sample_vol_ul" into objects
x <- qubitnew$Original_sample_conc_ng.ul
y <- qubitnew$total_sample_vol_ul
# make new column called "total_yield_ng" that multiplies "Original_sample_conc_ng.ul" and "total_sample_vol_ul"
qubitnew$total_yield_ng <- x * y
#list column names
colnames(qubitnew)
#call out the columns of interest of qubitnew
qubitnew2 <- subset(qubitnew, select = c(tube_number, Test_Date, Original_sample_conc_ng.ul, total_sample_vol_ul, total_yield_ng, extraction_method, lyophilized_y_n))
#before joining with hemo_qubit, add column with contents of extraction type, and whether lyophilized
qubitnew$extraction_method <- "RNeasy"
#call out the columns of interest of qubitnew
qubitnew2 <- subset(qubitnew, select = c(tube_number, Test_Date, Original_sample_conc_ng.ul, total_sample_vol_ul, total_yield_ng, extraction_method, lyophilized_y_n))
View(qubitnew2)
#read in new UTF version of QubitData
qubitnew <- read.csv("data/Qubit_data/QubitData_2018-10-31_17-54-22_UTF8.csv")
#read in new UTF version of QubitData
qubitnew <- read.csv("data/Qubit_data/QubitData_2018-10-31_17-54-22_UTF8.csv")
# Add in tube numbers to Qubit file in a new column called "tube_number"
qubitnew$tube_number <- c("423-2", "414-2")
#make "tube_number" characters
qubitnew$tube_number <- as.character(qubitnew$tube_number)
#rename "Original.sample.conc." column name to include units -- "Original_sample_conc_ng.ul" in order to get rid of unit column, as well as to be able to join with hemosample_qubit_table.csv
colnames(qubitnew)[colnames(qubitnew)=="Original.sample.conc."] <- "Original_sample_conc_ng.ul"
#rename "Test.Date" to "Test_Date" so that it joins correctly with hemoqubit
colnames(qubitnew)[colnames(qubitnew)=="Test.Date"] <- "Test_Date"
#before joining with hemo_qubit, add column with contents of extraction type, and whether lyophilized
qubitnew$extraction_method <- "RNeasy"
qubitnew$lyophilized_y_n <- "n"
#change "Original_sampel_conc_ng.ul" to character
qubitnew$Original_sample_conc_ng.ul <- as.character(qubitnew$Original_sample_conc_ng.ul)
#replace "Out of range" in "Original_sample_conc_ng.ul" to "0"s
qubitnew[qubitnew$Original_sample_conc_ng.ul == "Out of range",]$Original_sample_conc_ng.ul = 0
# add total_sample_vol_ul and total_yield_ng
# make sure that the "total_sample_vol_ul" is the ul of sample remaining after Qubit reading and Bioanalyzer/NanoDrop
qubitnew$total_sample_vol_ul <- "12"
# make "total_sample_vol_ul" and "Original_sample_conc_ng.ul" into numeric
qubitnew$total_sample_vol_ul <- as.numeric(qubitnew$total_sample_vol_ul)
qubitnew$Original_sample_conc_ng.ul <- as.numeric(qubitnew$Original_sample_conc_ng.ul)
# make "Original_sample_conc_ng.ul" and "total_sample_vol_ul" into objects
x <- qubitnew$Original_sample_conc_ng.ul
y <- qubitnew$total_sample_vol_ul
# make new column called "total_yield_ng" that multiplies "Original_sample_conc_ng.ul" and "total_sample_vol_ul"
qubitnew$total_yield_ng <- x * y
#list column names
colnames(qubitnew)
#call out the columns of interest of qubitnew
qubitnew2 <- subset(qubitnew, select = c(tube_number, Test_Date, Original_sample_conc_ng.ul, total_sample_vol_ul, total_yield_ng, extraction_method, lyophilized_y_n))
View(qubitnew2)
#left_join with RNAzol_Qubit.csv
RNAzol <- read.csv("analyses/RNAzol_Qubit.csv")
#concatenate the new Qubit data to the master
masterQ <- rbind(RNAzol, qubitnew2, "analyses/master_Qubit.csv")
View(RNAzol)
#remove column "X"
Rzol <- subset(RNAzol, select = c(tube_number, Test_Date, Original_sample_conc_ng.ul, total_sample_vol_ul, total_yield_ng, extraction_method, lyophilized_y_n))
#concatenate the new Qubit data to the master
masterQ <- rbind(Rzol, qubitnew2, "analyses/master_Qubit.csv")
View(masterQ)
#read in new UTF version of QubitData
qubitnew <- read.csv("data/Qubit_data/QubitData_2018-10-31_17-54-22_UTF8.csv")
# Add in tube numbers to Qubit file in a new column called "tube_number"
qubitnew$tube_number <- c("423-2", "414-2")
#make "tube_number" characters
qubitnew$tube_number <- as.character(qubitnew$tube_number)
#rename "Original.sample.conc." column name to include units -- "Original_sample_conc_ng.ul" in order to get rid of unit column, as well as to be able to join with hemosample_qubit_table.csv
colnames(qubitnew)[colnames(qubitnew)=="Original.sample.conc."] <- "Original_sample_conc_ng.ul"
#rename "Test.Date" to "Test_Date" so that it joins correctly with hemoqubit
colnames(qubitnew)[colnames(qubitnew)=="Test.Date"] <- "Test_Date"
#before joining with hemo_qubit, add column with contents of extraction type, and whether lyophilized
qubitnew$extraction_method <- "RNeasy"
qubitnew$lyophilized_y_n <- "n"
#change "Original_sampel_conc_ng.ul" to character
qubitnew$Original_sample_conc_ng.ul <- as.character(qubitnew$Original_sample_conc_ng.ul)
#replace "Out of range" in "Original_sample_conc_ng.ul" to "0"s
qubitnew[qubitnew$Original_sample_conc_ng.ul == "Out of range",]$Original_sample_conc_ng.ul = 0
# add total_sample_vol_ul and total_yield_ng
# make sure that the "total_sample_vol_ul" is the ul of sample remaining after Qubit reading and Bioanalyzer/NanoDrop
qubitnew$total_sample_vol_ul <- "12"
# make "total_sample_vol_ul" and "Original_sample_conc_ng.ul" into numeric
qubitnew$total_sample_vol_ul <- as.numeric(qubitnew$total_sample_vol_ul)
qubitnew$Original_sample_conc_ng.ul <- as.numeric(qubitnew$Original_sample_conc_ng.ul)
# make "Original_sample_conc_ng.ul" and "total_sample_vol_ul" into objects
x <- qubitnew$Original_sample_conc_ng.ul
y <- qubitnew$total_sample_vol_ul
# make new column called "total_yield_ng" that multiplies "Original_sample_conc_ng.ul" and "total_sample_vol_ul"
qubitnew$total_yield_ng <- x * y
#list column names
colnames(qubitnew)
#call out the columns of interest of qubitnew
qubitnew2 <- subset(qubitnew, select = c(tube_number, Test_Date, Original_sample_conc_ng.ul, total_sample_vol_ul, total_yield_ng, extraction_method, lyophilized_y_n))
View(qubitnew2)
#left_join with RNAzol_Qubit.csv
RNAzol <- read.csv("analyses/RNAzol_Qubit.csv")
#concatenate new Qubit data to RNAzol_Qubit.csv (current "master Qubit results" csv)
system("cat RNAzol qubitnew2 > master_Qubit.csv")
#concatenate new Qubit data to RNAzol_Qubit.csv (current "master Qubit results" csv)
system("cat analyses/RNAzol_Qubit.csv qubitnew2 > master_Qubit.csv")
#check subset qubitnew2 file visually before concatenating to qubitresults
#write.csv new file
write.csv(qubitnew2, "analyses/edit-QubitData_2018-10-31_17-54-22.csv")
#concatenate new Qubit data to RNAzol_Qubit.csv (current "master Qubit results" csv)
system("cat analyses/RNAzol_Qubit.csv analyses/edit-QubitData_2018-10-31_17-54-22.csv > master_Qubit.csv")
#concatenate new Qubit data to RNAzol_Qubit.csv (current "master Qubit results" csv)
system("cat analyses/RNAzol_Qubit.csv analyses/edit-QubitData_2018-10-31_17-54-22.csv > analyses/master_Qubit.csv")
#read in the RNAzol Qubit data (current master of all QUbit results thus far)
RNAzol <- read.csv("analyses/RNAzol_Qubit.csv")
#rbind the new qubit results to RNAzol Qubit results
masterQ <- rbind(RNAzol, qubitnew2)
RNAzol <- read.csv("analyses/RNAzol_Qubit.csv")
RNAz <- subset(RNAzol, select = c(tube_number, Test_Date, Original_sample_conc_ng.ul, total_sample_vol_ul, total_yield_ng, extraction_method, lyophilized_y_n))
View(RNAzol)
View(RNAz)
write.csv(RNAz, "analyses/RNAzol_qubit.csv")
write.csv(RNAz, "analyses/RNAzol_qubit.csv")
RNAz <- write.csv(RNAz, "analyses/RNAzol_qubit.csv")
RNAz <- subset(RNAzol, select = c(tube_number, Test_Date, Original_sample_conc_ng.ul, total_sample_vol_ul, total_yield_ng, extraction_method, lyophilized_y_n))
write.csv(RNAz, "analyses/RNAzol_qubit.csv")
RNAz <- write.csv(RNAz, "analyses/RNAzol_qubit.csv")
RNAz <- subset(RNAzol, select = c(tube_number, Test_Date, Original_sample_conc_ng.ul, total_sample_vol_ul, total_yield_ng, extraction_method, lyophilized_y_n))
RNAz <- write.csv(RNAz, "analyses/RNAzol_qubit.csv")
RNAz <- subset(RNAzol, select = c(tube_number, Test_Date, Original_sample_conc_ng.ul, total_sample_vol_ul, total_yield_ng, extraction_method, lyophilized_y_n))
RNAz <- write.csv(RNAz, "analyses/RNAzol_qubit.csv")
RNAz <- subset(RNAzol, select = c(tube_number, Test_Date, Original_sample_conc_ng.ul, total_sample_vol_ul, total_yield_ng, extraction_method, lyophilized_y_n))
write.csv(RNAz, "analyses/RNAzol_qubit.csv")
write.csv(RNAz, "analyses/RNAzol_qubit.csv")
RNAzol <- read.csv("analyses/RNAzol_Qubit.csv")
RNAz <- subset(RNAzol, select = c(tube_number, Test_Date, Original_sample_conc_ng.ul, total_sample_vol_ul, total_yield_ng, extraction_method, lyophilized_y_n))
write.csv(RNAz, "analyses/RNAzol_qubit.csv")
RNAz <- subset(RNAzol, select = c(tube_number, Test_Date, Original_sample_conc_ng.ul, total_sample_vol_ul, total_yield_ng, extraction_method, lyophilized_y_n))
#read in the RNAzol Qubit data (current master of all QUbit results thus far)
RNAzol <- read.csv("analyses/RNAzol_Qubit.csv")
RNAz <- subset(RNAzol, select = c(tube_number, Test_Date, Original_sample_conc_ng.ul, total_sample_vol_ul, total_yield_ng, extraction_method, lyophilized_y_n))
#rbind the new qubit results to RNAzol Qubit results
masterQ <- rbind(RNAzol, qubitnew2)
#read in new UTF version of QubitData
qubitnew <- read.csv("data/Qubit_data/QubitData_2018-10-31_17-54-22_UTF8.csv")
# Add in tube numbers to Qubit file in a new column called "tube_number"
qubitnew$tube_number <- c("423-2", "414-2")
#make "tube_number" characters
qubitnew$tube_number <- as.character(qubitnew$tube_number)
#rename "Original.sample.conc." column name to include units -- "Original_sample_conc_ng.ul" in order to get rid of unit column, as well as to be able to join with hemosample_qubit_table.csv
colnames(qubitnew)[colnames(qubitnew)=="Original.sample.conc."] <- "Original_sample_conc_ng.ul"
#rename "Test.Date" to "Test_Date" so that it joins correctly with hemoqubit
colnames(qubitnew)[colnames(qubitnew)=="Test.Date"] <- "Test_Date"
#before joining with hemo_qubit, add column with contents of extraction type, and whether lyophilized
qubitnew$extraction_method <- "RNeasy"
qubitnew$lyophilized_y_n <- "n"
#change "Original_sampel_conc_ng.ul" to character
qubitnew$Original_sample_conc_ng.ul <- as.character(qubitnew$Original_sample_conc_ng.ul)
#replace "Out of range" in "Original_sample_conc_ng.ul" to "0"s
qubitnew[qubitnew$Original_sample_conc_ng.ul == "Out of range",]$Original_sample_conc_ng.ul = 0
# add total_sample_vol_ul and total_yield_ng
# make sure that the "total_sample_vol_ul" is the ul of sample remaining after Qubit reading and Bioanalyzer/NanoDrop
qubitnew$total_sample_vol_ul <- "12"
# make "total_sample_vol_ul" and "Original_sample_conc_ng.ul" into numeric
qubitnew$total_sample_vol_ul <- as.numeric(qubitnew$total_sample_vol_ul)
qubitnew$Original_sample_conc_ng.ul <- as.numeric(qubitnew$Original_sample_conc_ng.ul)
# make "Original_sample_conc_ng.ul" and "total_sample_vol_ul" into objects
x <- qubitnew$Original_sample_conc_ng.ul
y <- qubitnew$total_sample_vol_ul
# make new column called "total_yield_ng" that multiplies "Original_sample_conc_ng.ul" and "total_sample_vol_ul"
qubitnew$total_yield_ng <- x * y
#list column names
colnames(qubitnew)
#call out the columns of interest of qubitnew
qubitnew2 <- subset(qubitnew, select = c(tube_number, Test_Date, Original_sample_conc_ng.ul, total_sample_vol_ul, total_yield_ng, extraction_method, lyophilized_y_n))
#rbind the new qubit results to RNAzol Qubit results
masterQ <- rbind(RNAzol, qubitnew2)
View(qubitnew2)
View(RNAz)
View(RNAzol)
View(RNAz)
#rbind the new qubit results to RNAzol Qubit results
masterQ <- system("cat RNAz qubitnew2 > masterQ")
#rbind the new qubit results to RNAzol Qubit results
system("cat RNAz qubitnew2 > analyses/master_Qubit.csv")
#rbind the new qubit results to RNAzol Qubit results
system("cat analyses/RNAzol_Qubit.csv analyses/edit-QubitData_2018-10-31_17-54-22.csv > analyses/master_Qubit.csv")
mQ <- read.csv("analyses/master_Qubit.csv")
View(mQ)
#read in new UTF version of QubitData
qubitnew <- read.csv("data/Qubit_data/QubitData_2018-10-31_17-54-22_UTF8.csv")
# Add in tube numbers to Qubit file in a new column called "tube_number"
qubitnew$tube_number <- c("423-2", "414-2")
# Add in tube numbers to Qubit file in a new column called "tube_number"
qubitnew$tube_number <- c("423-2", "414-2")
#make "tube_number" characters
qubitnew$tube_number <- as.character(qubitnew$tube_number)
#rename "Original.sample.conc." column name to include units -- "Original_sample_conc_ng.ul" in order to get rid of unit column, as well as to be able to join with hemosample_qubit_table.csv
colnames(qubitnew)[colnames(qubitnew)=="Original.sample.conc."] <- "Original_sample_conc_ng.ul"
#rename "Test.Date" to "Test_Date" so that it joins correctly with hemoqubit
colnames(qubitnew)[colnames(qubitnew)=="Test.Date"] <- "Test_Date"
#before joining with hemo_qubit, add column with contents of extraction type, and whether lyophilized
qubitnew$extraction_method <- "RNeasy"
qubitnew$lyophilized_y_n <- "n"
#change "Original_sampel_conc_ng.ul" to character
qubitnew$Original_sample_conc_ng.ul <- as.character(qubitnew$Original_sample_conc_ng.ul)
#replace "Out of range" in "Original_sample_conc_ng.ul" to "0"s
qubitnew[qubitnew$Original_sample_conc_ng.ul == "Out of range",]$Original_sample_conc_ng.ul = 0
# add total_sample_vol_ul and total_yield_ng
# make sure that the "total_sample_vol_ul" is the ul of sample remaining after Qubit reading and Bioanalyzer/NanoDrop
qubitnew$total_sample_vol_ul <- "12"
# make "total_sample_vol_ul" and "Original_sample_conc_ng.ul" into numeric
qubitnew$total_sample_vol_ul <- as.numeric(qubitnew$total_sample_vol_ul)
qubitnew$Original_sample_conc_ng.ul <- as.numeric(qubitnew$Original_sample_conc_ng.ul)
# make "Original_sample_conc_ng.ul" and "total_sample_vol_ul" into objects
x <- qubitnew$Original_sample_conc_ng.ul
y <- qubitnew$total_sample_vol_ul
# make new column called "total_yield_ng" that multiplies "Original_sample_conc_ng.ul" and "total_sample_vol_ul"
qubitnew$total_yield_ng <- x * y
#list column names
colnames(qubitnew)
#call out the columns of interest of qubitnew
qubitnew2 <- subset(qubitnew, select = c(tube_number, Test_Date, Original_sample_conc_ng.ul, total_sample_vol_ul, total_yield_ng, extraction_method, lyophilized_y_n))
View(qubitnew2)
#read in the RNAzol Qubit data (current master of all QUbit results thus far)
RNAzol <- read.csv("analyses/RNAzol_Qubit.csv")
# RNAzol has a column "X" that new qubit data does not. Call out the columns of interest.
RNAz <- subset(RNAzol, select = c(tube_number, Test_Date, Original_sample_conc_ng.ul, total_sample_vol_ul, total_yield_ng, extraction_method, lyophilized_y_n))
names(qubitnew2) <- NULL
View(qubitnew2)
View(qubitnew2)
#call out the columns of interest of qubitnew
qubitnew2 <- subset(qubitnew, select = c(tube_number, Test_Date, Original_sample_conc_ng.ul, total_sample_vol_ul, total_yield_ng, extraction_method, lyophilized_y_n))
View(qubitnew2)
#Need to remove the headers from the qubitnew2
colnames(qubitnew2) <- NULL
View(qubitnew2)
#call out the columns of interest of qubitnew
qubitnew2 <- subset(qubitnew, select = c(tube_number, Test_Date, Original_sample_conc_ng.ul, total_sample_vol_ul, total_yield_ng, extraction_method, lyophilized_y_n))
View(qubitnew2)
View(RNAz)
#Need to remove the headers from the qubitnew2
masterQ <- merge(RNAz, qubitnew2)
View(masterQ)
write.csv(RNAz, "analyses/master_qubit.csv")
#Need to remove the headers from the qubitnew2
masterQ <- system("cat analyses/master_qubit.csv analyses/edit-QubitData_2018-10-31_17-54-22.csv > analyses/master_qubit.csv")
#Need to remove the headers from the qubitnew2
system("cat analyses/master_qubit.csv analyses/edit-QubitData_2018-10-31_17-54-22.csv > analyses/master_Qubit.csv")
#Need to remove the headers from the qubitnew2
system("cat analyses/master_qubit.csv analyses/edit-QubitData_2018-10-31_17-54-22.csv > analyses/master_Qubit.csv")
#Need to remove the headers from the qubitnew2
colnames(qubitnew2) <- NULL
View(qubitnew2)
#call out the columns of interest of qubitnew
qubitnew2 <- subset(qubitnew, select = c(tube_number, Test_Date, Original_sample_conc_ng.ul, total_sample_vol_ul, total_yield_ng, extraction_method, lyophilized_y_n))
View(RNAzol)
#Need to remove the headers from the qubitnew2
as.matrix(qubitnew2)
dimnames(qubitnew2) <- NULL
dimnames(qubitnew2) = NULL
View(qubitnew2)
#Need to remove the headers from the qubitnew2
colnames(qubitnew2) <- NULL
View(qubitnew2)
#call out the columns of interest of qubitnew
qubitnew2 <- subset(qubitnew, select = c(tube_number, Test_Date, Original_sample_conc_ng.ul, total_sample_vol_ul, total_yield_ng, extraction_method, lyophilized_y_n))
View(qubitnew2)
#Need to remove the column names from the qubitnew2
data.frame(qubitnew2)
colnames(qubitnew2) <- NULL
View(qubitnew2)
#call out the columns of interest of qubitnew
qubitnew2 <- subset(qubitnew, select = c(tube_number, Test_Date, Original_sample_conc_ng.ul, total_sample_vol_ul, total_yield_ng, extraction_method, lyophilized_y_n))
#Need to remove the column names from the qubitnew2
data.frame(qubitnew2)
View(qubitnew2)
names(qubitnew2) <- NULL
View(qubitnew2)
#call out the columns of interest of qubitnew
qubitnew2 <- subset(qubitnew, select = c(tube_number, Test_Date, Original_sample_conc_ng.ul, total_sample_vol_ul, total_yield_ng, extraction_method, lyophilized_y_n))
#Need to remove the column names from the qubitnew2
as.matrix(qubitnew2)
colnames(qubitnew2) <- NULL
View(qubitnew2)
#call out the columns of interest of qubitnew
qubitnew2 <- subset(qubitnew, select = c(tube_number, Test_Date, Original_sample_conc_ng.ul, total_sample_vol_ul, total_yield_ng, extraction_method, lyophilized_y_n))
#Need to remove the column names from the qubitnew2
qubitnewcsv <- read.csv("analyses/edit-QubitData_2018-10-31_17-54-22.csv", header = FALSE)
View(qubitnewcsv)
write.csv(qubitnew2, "analyses/headerF-QubitData_10-31-18.csv")
#Need to remove the column names from the qubitnew2
HFqubit <- read.csv("analyses/headerF-QubitData_10-31-18.csv")
View(HFqubit)
View(HFqubit)
#read in new UTF version of QubitData
qubitnew <- read.csv("data/Qubit_data/QubitData_2018-10-31_17-54-22_UTF8.csv")
# Add in tube numbers to Qubit file in a new column called "tube_number"
qubitnew$tube_number <- c("423-2", "414-2")
#make "tube_number" characters
qubitnew$tube_number <- as.character(qubitnew$tube_number)
#rename "Original.sample.conc." column name to include units -- "Original_sample_conc_ng.ul" in order to get rid of unit column, as well as to be able to join with hemosample_qubit_table.csv
colnames(qubitnew)[colnames(qubitnew)=="Original.sample.conc."] <- "Original_sample_conc_ng.ul"
#rename "Test.Date" to "Test_Date" so that it joins correctly with hemoqubit
colnames(qubitnew)[colnames(qubitnew)=="Test.Date"] <- "Test_Date"
#before joining with hemo_qubit, add column with contents of extraction type, and whether lyophilized
qubitnew$extraction_method <- "RNeasy"
qubitnew$lyophilized_y_n <- "n"
#change "Original_sampel_conc_ng.ul" to character
qubitnew$Original_sample_conc_ng.ul <- as.character(qubitnew$Original_sample_conc_ng.ul)
#replace "Out of range" in "Original_sample_conc_ng.ul" to "0"s
qubitnew[qubitnew$Original_sample_conc_ng.ul == "Out of range",]$Original_sample_conc_ng.ul = 0
# add total_sample_vol_ul and total_yield_ng
# make sure that the "total_sample_vol_ul" is the ul of sample remaining after Qubit reading and Bioanalyzer/NanoDrop
qubitnew$total_sample_vol_ul <- "12"
# make "total_sample_vol_ul" and "Original_sample_conc_ng.ul" into numeric
qubitnew$total_sample_vol_ul <- as.numeric(qubitnew$total_sample_vol_ul)
qubitnew$Original_sample_conc_ng.ul <- as.numeric(qubitnew$Original_sample_conc_ng.ul)
# make "Original_sample_conc_ng.ul" and "total_sample_vol_ul" into objects
x <- qubitnew$Original_sample_conc_ng.ul
y <- qubitnew$total_sample_vol_ul
# make new column called "total_yield_ng" that multiplies "Original_sample_conc_ng.ul" and "total_sample_vol_ul"
qubitnew$total_yield_ng <- x * y
#list column names
colnames(qubitnew)
#call out the columns of interest of qubitnew
qubitnew2 <- subset(qubitnew, select = c(tube_number, Test_Date, Original_sample_conc_ng.ul, total_sample_vol_ul, total_yield_ng, extraction_method, lyophilized_y_n))
##################################################################
#COMBINE INTO MASTER QUBIT RESULTS CSV
#read in the RNAzol Qubit data (current master of all QUbit results thus far)
RNAzol <- read.csv("analyses/RNAzol_Qubit.csv")
# RNAzol has a column "X" that new qubit data does not. Call out all columns except column "X".
RNAz <- subset(RNAzol, select = c(tube_number, Test_Date, Original_sample_conc_ng.ul, total_sample_vol_ul, total_yield_ng, extraction_method, lyophilized_y_n))
#Need to remove the column names from the qubitnew2
unname(qubitnew2, force = FALSE)
View(qubitnew2)
#Need to remove the column names from the qubitnew2
qubitnew3 <- unname(qubitnew2, force = FALSE)
View(qubitnew3)
#Need to remove the column names from the qubitnew2
unname(qubitnew2, force = FALSE)
#append new data to RNAz
masterQ <- cbind(RNAz, unname(qubitnew2, force = FALSE))
View(qubitnew3)
View(qubitnew3)
View(qubitnew3)
View(qubitnew3)
library(tidyverse)
# List file names to be combined
filenames <- list.files(path ="analyses/", pattern = NULL, all.files = FALSE)
#print file names
print(filenames)
#full path to csv filnames
fullpath=file.path("analyses/", filenames)
print(fullpath)
# List file names to be combined
filenames <- list.files(path ="analyses/qubit_merge_csv", pattern = NULL, all.files = FALSE)
#print file names
print(filenames)
# List file names to be combined
filenames <- list.files(path ="analyses/qubit_merge_csv", pattern = "*.csv")
#print file names
print(filenames)
#full path to csv filnames
fullpath=file.path("analyses/qubit_merge_csv/", filenames)
print(fullpath)
masterQ <- do.call("rbind",lapply(filenames, FUN=function(files{ read.csv(files)})))
masterQ <- do.call("rbind", lapply(function(files){ read.csv(files)}))
masterQ <- do.call("rbind", lapply(filenames, FUN = function(files){ read.csv(files)}))
masterQ <- do.call("rbind", lapply(filenames, FUN = function(files){ read.csv(files)}))
(fullpath)
#full path to csv filnames
fullpath=file.path("analyses/qubit_merge_csv", filenames)
print(fullpath)
masterQ <- do.call("rbind", lapply(filenames, FUN = function(files){ read.csv(files)}))
