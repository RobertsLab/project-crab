# make "total_sample_vol_ul" and "Original_sample_conc_ng.ul" into numeric
qubitnew$total_sample_vol_ul <- as.numeric(qubitnew$total_sample_vol_ul)
qubitnew$Original_sample_conc_ng.ul <- as.numeric(qubitnew$Original_sample_conc_ng.ul)
# make "Original_sample_conc_ng.ul" and "total_sample_vol_ul" into objects
x <- qubitnew$Original_sample_conc_ng.ul
y <- qubitnew$total_sample_vol_ul
# make new column called "total_yield_ng" that multiplies "Original_sample_conc_ng.ul" and "total_sample_vol_ul"
qubitnew$total_yield_ng <- x * y
#list column names
colnames(qubitnew)
#call out the columns of interest of qubitnew
qubitnew2 <- subset(qubitnew, select = c(tube_number, Test_Date, Original_sample_conc_ng.ul, total_sample_vol_ul, total_yield_ng, extraction_method, lyophilized_y_n))
View(qubitnew2)
#left_join with RNAzol_Qubit.csv
RNAzol <- read.csv("analyses/RNAzol_Qubit.csv")
#concatenate the new Qubit data to the master
masterQ <- rbind(RNAzol, qubitnew2, "analyses/master_Qubit.csv")
View(RNAzol)
#remove column "X"
Rzol <- subset(RNAzol, select = c(tube_number, Test_Date, Original_sample_conc_ng.ul, total_sample_vol_ul, total_yield_ng, extraction_method, lyophilized_y_n))
#concatenate the new Qubit data to the master
masterQ <- rbind(Rzol, qubitnew2, "analyses/master_Qubit.csv")
View(masterQ)
#read in new UTF version of QubitData
qubitnew <- read.csv("data/Qubit_data/QubitData_2018-10-31_17-54-22_UTF8.csv")
# Add in tube numbers to Qubit file in a new column called "tube_number"
qubitnew$tube_number <- c("423-2", "414-2")
#make "tube_number" characters
qubitnew$tube_number <- as.character(qubitnew$tube_number)
#rename "Original.sample.conc." column name to include units -- "Original_sample_conc_ng.ul" in order to get rid of unit column, as well as to be able to join with hemosample_qubit_table.csv
colnames(qubitnew)[colnames(qubitnew)=="Original.sample.conc."] <- "Original_sample_conc_ng.ul"
#rename "Test.Date" to "Test_Date" so that it joins correctly with hemoqubit
colnames(qubitnew)[colnames(qubitnew)=="Test.Date"] <- "Test_Date"
#before joining with hemo_qubit, add column with contents of extraction type, and whether lyophilized
qubitnew$extraction_method <- "RNeasy"
qubitnew$lyophilized_y_n <- "n"
#change "Original_sampel_conc_ng.ul" to character
qubitnew$Original_sample_conc_ng.ul <- as.character(qubitnew$Original_sample_conc_ng.ul)
#replace "Out of range" in "Original_sample_conc_ng.ul" to "0"s
qubitnew[qubitnew$Original_sample_conc_ng.ul == "Out of range",]$Original_sample_conc_ng.ul = 0
# add total_sample_vol_ul and total_yield_ng
# make sure that the "total_sample_vol_ul" is the ul of sample remaining after Qubit reading and Bioanalyzer/NanoDrop
qubitnew$total_sample_vol_ul <- "12"
# make "total_sample_vol_ul" and "Original_sample_conc_ng.ul" into numeric
qubitnew$total_sample_vol_ul <- as.numeric(qubitnew$total_sample_vol_ul)
qubitnew$Original_sample_conc_ng.ul <- as.numeric(qubitnew$Original_sample_conc_ng.ul)
# make "Original_sample_conc_ng.ul" and "total_sample_vol_ul" into objects
x <- qubitnew$Original_sample_conc_ng.ul
y <- qubitnew$total_sample_vol_ul
# make new column called "total_yield_ng" that multiplies "Original_sample_conc_ng.ul" and "total_sample_vol_ul"
qubitnew$total_yield_ng <- x * y
#list column names
colnames(qubitnew)
#call out the columns of interest of qubitnew
qubitnew2 <- subset(qubitnew, select = c(tube_number, Test_Date, Original_sample_conc_ng.ul, total_sample_vol_ul, total_yield_ng, extraction_method, lyophilized_y_n))
View(qubitnew2)
#left_join with RNAzol_Qubit.csv
RNAzol <- read.csv("analyses/RNAzol_Qubit.csv")
#concatenate new Qubit data to RNAzol_Qubit.csv (current "master Qubit results" csv)
system("cat RNAzol qubitnew2 > master_Qubit.csv")
#concatenate new Qubit data to RNAzol_Qubit.csv (current "master Qubit results" csv)
system("cat analyses/RNAzol_Qubit.csv qubitnew2 > master_Qubit.csv")
#check subset qubitnew2 file visually before concatenating to qubitresults
#write.csv new file
write.csv(qubitnew2, "analyses/edit-QubitData_2018-10-31_17-54-22.csv")
#concatenate new Qubit data to RNAzol_Qubit.csv (current "master Qubit results" csv)
system("cat analyses/RNAzol_Qubit.csv analyses/edit-QubitData_2018-10-31_17-54-22.csv > master_Qubit.csv")
#concatenate new Qubit data to RNAzol_Qubit.csv (current "master Qubit results" csv)
system("cat analyses/RNAzol_Qubit.csv analyses/edit-QubitData_2018-10-31_17-54-22.csv > analyses/master_Qubit.csv")
#read in the RNAzol Qubit data (current master of all QUbit results thus far)
RNAzol <- read.csv("analyses/RNAzol_Qubit.csv")
#rbind the new qubit results to RNAzol Qubit results
masterQ <- rbind(RNAzol, qubitnew2)
RNAzol <- read.csv("analyses/RNAzol_Qubit.csv")
RNAz <- subset(RNAzol, select = c(tube_number, Test_Date, Original_sample_conc_ng.ul, total_sample_vol_ul, total_yield_ng, extraction_method, lyophilized_y_n))
View(RNAzol)
View(RNAz)
write.csv(RNAz, "analyses/RNAzol_qubit.csv")
write.csv(RNAz, "analyses/RNAzol_qubit.csv")
RNAz <- write.csv(RNAz, "analyses/RNAzol_qubit.csv")
RNAz <- subset(RNAzol, select = c(tube_number, Test_Date, Original_sample_conc_ng.ul, total_sample_vol_ul, total_yield_ng, extraction_method, lyophilized_y_n))
write.csv(RNAz, "analyses/RNAzol_qubit.csv")
RNAz <- write.csv(RNAz, "analyses/RNAzol_qubit.csv")
RNAz <- subset(RNAzol, select = c(tube_number, Test_Date, Original_sample_conc_ng.ul, total_sample_vol_ul, total_yield_ng, extraction_method, lyophilized_y_n))
RNAz <- write.csv(RNAz, "analyses/RNAzol_qubit.csv")
RNAz <- subset(RNAzol, select = c(tube_number, Test_Date, Original_sample_conc_ng.ul, total_sample_vol_ul, total_yield_ng, extraction_method, lyophilized_y_n))
RNAz <- write.csv(RNAz, "analyses/RNAzol_qubit.csv")
RNAz <- subset(RNAzol, select = c(tube_number, Test_Date, Original_sample_conc_ng.ul, total_sample_vol_ul, total_yield_ng, extraction_method, lyophilized_y_n))
write.csv(RNAz, "analyses/RNAzol_qubit.csv")
write.csv(RNAz, "analyses/RNAzol_qubit.csv")
RNAzol <- read.csv("analyses/RNAzol_Qubit.csv")
RNAz <- subset(RNAzol, select = c(tube_number, Test_Date, Original_sample_conc_ng.ul, total_sample_vol_ul, total_yield_ng, extraction_method, lyophilized_y_n))
write.csv(RNAz, "analyses/RNAzol_qubit.csv")
RNAz <- subset(RNAzol, select = c(tube_number, Test_Date, Original_sample_conc_ng.ul, total_sample_vol_ul, total_yield_ng, extraction_method, lyophilized_y_n))
#read in the RNAzol Qubit data (current master of all QUbit results thus far)
RNAzol <- read.csv("analyses/RNAzol_Qubit.csv")
RNAz <- subset(RNAzol, select = c(tube_number, Test_Date, Original_sample_conc_ng.ul, total_sample_vol_ul, total_yield_ng, extraction_method, lyophilized_y_n))
#rbind the new qubit results to RNAzol Qubit results
masterQ <- rbind(RNAzol, qubitnew2)
#read in new UTF version of QubitData
qubitnew <- read.csv("data/Qubit_data/QubitData_2018-10-31_17-54-22_UTF8.csv")
# Add in tube numbers to Qubit file in a new column called "tube_number"
qubitnew$tube_number <- c("423-2", "414-2")
#make "tube_number" characters
qubitnew$tube_number <- as.character(qubitnew$tube_number)
#rename "Original.sample.conc." column name to include units -- "Original_sample_conc_ng.ul" in order to get rid of unit column, as well as to be able to join with hemosample_qubit_table.csv
colnames(qubitnew)[colnames(qubitnew)=="Original.sample.conc."] <- "Original_sample_conc_ng.ul"
#rename "Test.Date" to "Test_Date" so that it joins correctly with hemoqubit
colnames(qubitnew)[colnames(qubitnew)=="Test.Date"] <- "Test_Date"
#before joining with hemo_qubit, add column with contents of extraction type, and whether lyophilized
qubitnew$extraction_method <- "RNeasy"
qubitnew$lyophilized_y_n <- "n"
#change "Original_sampel_conc_ng.ul" to character
qubitnew$Original_sample_conc_ng.ul <- as.character(qubitnew$Original_sample_conc_ng.ul)
#replace "Out of range" in "Original_sample_conc_ng.ul" to "0"s
qubitnew[qubitnew$Original_sample_conc_ng.ul == "Out of range",]$Original_sample_conc_ng.ul = 0
# add total_sample_vol_ul and total_yield_ng
# make sure that the "total_sample_vol_ul" is the ul of sample remaining after Qubit reading and Bioanalyzer/NanoDrop
qubitnew$total_sample_vol_ul <- "12"
# make "total_sample_vol_ul" and "Original_sample_conc_ng.ul" into numeric
qubitnew$total_sample_vol_ul <- as.numeric(qubitnew$total_sample_vol_ul)
qubitnew$Original_sample_conc_ng.ul <- as.numeric(qubitnew$Original_sample_conc_ng.ul)
# make "Original_sample_conc_ng.ul" and "total_sample_vol_ul" into objects
x <- qubitnew$Original_sample_conc_ng.ul
y <- qubitnew$total_sample_vol_ul
# make new column called "total_yield_ng" that multiplies "Original_sample_conc_ng.ul" and "total_sample_vol_ul"
qubitnew$total_yield_ng <- x * y
#list column names
colnames(qubitnew)
#call out the columns of interest of qubitnew
qubitnew2 <- subset(qubitnew, select = c(tube_number, Test_Date, Original_sample_conc_ng.ul, total_sample_vol_ul, total_yield_ng, extraction_method, lyophilized_y_n))
#rbind the new qubit results to RNAzol Qubit results
masterQ <- rbind(RNAzol, qubitnew2)
View(qubitnew2)
View(RNAz)
View(RNAzol)
View(RNAz)
#rbind the new qubit results to RNAzol Qubit results
masterQ <- system("cat RNAz qubitnew2 > masterQ")
#rbind the new qubit results to RNAzol Qubit results
system("cat RNAz qubitnew2 > analyses/master_Qubit.csv")
#rbind the new qubit results to RNAzol Qubit results
system("cat analyses/RNAzol_Qubit.csv analyses/edit-QubitData_2018-10-31_17-54-22.csv > analyses/master_Qubit.csv")
mQ <- read.csv("analyses/master_Qubit.csv")
View(mQ)
#read in new UTF version of QubitData
qubitnew <- read.csv("data/Qubit_data/QubitData_2018-10-31_17-54-22_UTF8.csv")
# Add in tube numbers to Qubit file in a new column called "tube_number"
qubitnew$tube_number <- c("423-2", "414-2")
# Add in tube numbers to Qubit file in a new column called "tube_number"
qubitnew$tube_number <- c("423-2", "414-2")
#make "tube_number" characters
qubitnew$tube_number <- as.character(qubitnew$tube_number)
#rename "Original.sample.conc." column name to include units -- "Original_sample_conc_ng.ul" in order to get rid of unit column, as well as to be able to join with hemosample_qubit_table.csv
colnames(qubitnew)[colnames(qubitnew)=="Original.sample.conc."] <- "Original_sample_conc_ng.ul"
#rename "Test.Date" to "Test_Date" so that it joins correctly with hemoqubit
colnames(qubitnew)[colnames(qubitnew)=="Test.Date"] <- "Test_Date"
#before joining with hemo_qubit, add column with contents of extraction type, and whether lyophilized
qubitnew$extraction_method <- "RNeasy"
qubitnew$lyophilized_y_n <- "n"
#change "Original_sampel_conc_ng.ul" to character
qubitnew$Original_sample_conc_ng.ul <- as.character(qubitnew$Original_sample_conc_ng.ul)
#replace "Out of range" in "Original_sample_conc_ng.ul" to "0"s
qubitnew[qubitnew$Original_sample_conc_ng.ul == "Out of range",]$Original_sample_conc_ng.ul = 0
# add total_sample_vol_ul and total_yield_ng
# make sure that the "total_sample_vol_ul" is the ul of sample remaining after Qubit reading and Bioanalyzer/NanoDrop
qubitnew$total_sample_vol_ul <- "12"
# make "total_sample_vol_ul" and "Original_sample_conc_ng.ul" into numeric
qubitnew$total_sample_vol_ul <- as.numeric(qubitnew$total_sample_vol_ul)
qubitnew$Original_sample_conc_ng.ul <- as.numeric(qubitnew$Original_sample_conc_ng.ul)
# make "Original_sample_conc_ng.ul" and "total_sample_vol_ul" into objects
x <- qubitnew$Original_sample_conc_ng.ul
y <- qubitnew$total_sample_vol_ul
# make new column called "total_yield_ng" that multiplies "Original_sample_conc_ng.ul" and "total_sample_vol_ul"
qubitnew$total_yield_ng <- x * y
#list column names
colnames(qubitnew)
#call out the columns of interest of qubitnew
qubitnew2 <- subset(qubitnew, select = c(tube_number, Test_Date, Original_sample_conc_ng.ul, total_sample_vol_ul, total_yield_ng, extraction_method, lyophilized_y_n))
View(qubitnew2)
#read in the RNAzol Qubit data (current master of all QUbit results thus far)
RNAzol <- read.csv("analyses/RNAzol_Qubit.csv")
# RNAzol has a column "X" that new qubit data does not. Call out the columns of interest.
RNAz <- subset(RNAzol, select = c(tube_number, Test_Date, Original_sample_conc_ng.ul, total_sample_vol_ul, total_yield_ng, extraction_method, lyophilized_y_n))
names(qubitnew2) <- NULL
View(qubitnew2)
View(qubitnew2)
#call out the columns of interest of qubitnew
qubitnew2 <- subset(qubitnew, select = c(tube_number, Test_Date, Original_sample_conc_ng.ul, total_sample_vol_ul, total_yield_ng, extraction_method, lyophilized_y_n))
View(qubitnew2)
#Need to remove the headers from the qubitnew2
colnames(qubitnew2) <- NULL
View(qubitnew2)
#call out the columns of interest of qubitnew
qubitnew2 <- subset(qubitnew, select = c(tube_number, Test_Date, Original_sample_conc_ng.ul, total_sample_vol_ul, total_yield_ng, extraction_method, lyophilized_y_n))
View(qubitnew2)
View(RNAz)
#Need to remove the headers from the qubitnew2
masterQ <- merge(RNAz, qubitnew2)
View(masterQ)
write.csv(RNAz, "analyses/master_qubit.csv")
#Need to remove the headers from the qubitnew2
masterQ <- system("cat analyses/master_qubit.csv analyses/edit-QubitData_2018-10-31_17-54-22.csv > analyses/master_qubit.csv")
#Need to remove the headers from the qubitnew2
system("cat analyses/master_qubit.csv analyses/edit-QubitData_2018-10-31_17-54-22.csv > analyses/master_Qubit.csv")
#Need to remove the headers from the qubitnew2
system("cat analyses/master_qubit.csv analyses/edit-QubitData_2018-10-31_17-54-22.csv > analyses/master_Qubit.csv")
#Need to remove the headers from the qubitnew2
colnames(qubitnew2) <- NULL
View(qubitnew2)
#call out the columns of interest of qubitnew
qubitnew2 <- subset(qubitnew, select = c(tube_number, Test_Date, Original_sample_conc_ng.ul, total_sample_vol_ul, total_yield_ng, extraction_method, lyophilized_y_n))
View(RNAzol)
#Need to remove the headers from the qubitnew2
as.matrix(qubitnew2)
dimnames(qubitnew2) <- NULL
dimnames(qubitnew2) = NULL
View(qubitnew2)
#Need to remove the headers from the qubitnew2
colnames(qubitnew2) <- NULL
View(qubitnew2)
#call out the columns of interest of qubitnew
qubitnew2 <- subset(qubitnew, select = c(tube_number, Test_Date, Original_sample_conc_ng.ul, total_sample_vol_ul, total_yield_ng, extraction_method, lyophilized_y_n))
View(qubitnew2)
#Need to remove the column names from the qubitnew2
data.frame(qubitnew2)
colnames(qubitnew2) <- NULL
View(qubitnew2)
#call out the columns of interest of qubitnew
qubitnew2 <- subset(qubitnew, select = c(tube_number, Test_Date, Original_sample_conc_ng.ul, total_sample_vol_ul, total_yield_ng, extraction_method, lyophilized_y_n))
#Need to remove the column names from the qubitnew2
data.frame(qubitnew2)
View(qubitnew2)
names(qubitnew2) <- NULL
View(qubitnew2)
#call out the columns of interest of qubitnew
qubitnew2 <- subset(qubitnew, select = c(tube_number, Test_Date, Original_sample_conc_ng.ul, total_sample_vol_ul, total_yield_ng, extraction_method, lyophilized_y_n))
#Need to remove the column names from the qubitnew2
as.matrix(qubitnew2)
colnames(qubitnew2) <- NULL
View(qubitnew2)
#call out the columns of interest of qubitnew
qubitnew2 <- subset(qubitnew, select = c(tube_number, Test_Date, Original_sample_conc_ng.ul, total_sample_vol_ul, total_yield_ng, extraction_method, lyophilized_y_n))
#Need to remove the column names from the qubitnew2
qubitnewcsv <- read.csv("analyses/edit-QubitData_2018-10-31_17-54-22.csv", header = FALSE)
View(qubitnewcsv)
write.csv(qubitnew2, "analyses/headerF-QubitData_10-31-18.csv")
#Need to remove the column names from the qubitnew2
HFqubit <- read.csv("analyses/headerF-QubitData_10-31-18.csv")
View(HFqubit)
View(HFqubit)
#read in new UTF version of QubitData
qubitnew <- read.csv("data/Qubit_data/QubitData_2018-10-31_17-54-22_UTF8.csv")
# Add in tube numbers to Qubit file in a new column called "tube_number"
qubitnew$tube_number <- c("423-2", "414-2")
#make "tube_number" characters
qubitnew$tube_number <- as.character(qubitnew$tube_number)
#rename "Original.sample.conc." column name to include units -- "Original_sample_conc_ng.ul" in order to get rid of unit column, as well as to be able to join with hemosample_qubit_table.csv
colnames(qubitnew)[colnames(qubitnew)=="Original.sample.conc."] <- "Original_sample_conc_ng.ul"
#rename "Test.Date" to "Test_Date" so that it joins correctly with hemoqubit
colnames(qubitnew)[colnames(qubitnew)=="Test.Date"] <- "Test_Date"
#before joining with hemo_qubit, add column with contents of extraction type, and whether lyophilized
qubitnew$extraction_method <- "RNeasy"
qubitnew$lyophilized_y_n <- "n"
#change "Original_sampel_conc_ng.ul" to character
qubitnew$Original_sample_conc_ng.ul <- as.character(qubitnew$Original_sample_conc_ng.ul)
#replace "Out of range" in "Original_sample_conc_ng.ul" to "0"s
qubitnew[qubitnew$Original_sample_conc_ng.ul == "Out of range",]$Original_sample_conc_ng.ul = 0
# add total_sample_vol_ul and total_yield_ng
# make sure that the "total_sample_vol_ul" is the ul of sample remaining after Qubit reading and Bioanalyzer/NanoDrop
qubitnew$total_sample_vol_ul <- "12"
# make "total_sample_vol_ul" and "Original_sample_conc_ng.ul" into numeric
qubitnew$total_sample_vol_ul <- as.numeric(qubitnew$total_sample_vol_ul)
qubitnew$Original_sample_conc_ng.ul <- as.numeric(qubitnew$Original_sample_conc_ng.ul)
# make "Original_sample_conc_ng.ul" and "total_sample_vol_ul" into objects
x <- qubitnew$Original_sample_conc_ng.ul
y <- qubitnew$total_sample_vol_ul
# make new column called "total_yield_ng" that multiplies "Original_sample_conc_ng.ul" and "total_sample_vol_ul"
qubitnew$total_yield_ng <- x * y
#list column names
colnames(qubitnew)
#call out the columns of interest of qubitnew
qubitnew2 <- subset(qubitnew, select = c(tube_number, Test_Date, Original_sample_conc_ng.ul, total_sample_vol_ul, total_yield_ng, extraction_method, lyophilized_y_n))
##################################################################
#COMBINE INTO MASTER QUBIT RESULTS CSV
#read in the RNAzol Qubit data (current master of all QUbit results thus far)
RNAzol <- read.csv("analyses/RNAzol_Qubit.csv")
# RNAzol has a column "X" that new qubit data does not. Call out all columns except column "X".
RNAz <- subset(RNAzol, select = c(tube_number, Test_Date, Original_sample_conc_ng.ul, total_sample_vol_ul, total_yield_ng, extraction_method, lyophilized_y_n))
#Need to remove the column names from the qubitnew2
unname(qubitnew2, force = FALSE)
View(qubitnew2)
#Need to remove the column names from the qubitnew2
qubitnew3 <- unname(qubitnew2, force = FALSE)
View(qubitnew3)
#Need to remove the column names from the qubitnew2
unname(qubitnew2, force = FALSE)
#append new data to RNAz
masterQ <- cbind(RNAz, unname(qubitnew2, force = FALSE))
View(qubitnew3)
View(qubitnew3)
View(qubitnew3)
View(qubitnew3)
library(tidyverse)
# List file names to be combined
filenames <- list.files(path ="analyses/", pattern = NULL, all.files = FALSE)
#print file names
print(filenames)
#full path to csv filnames
fullpath=file.path("analyses/", filenames)
print(fullpath)
# List file names to be combined
filenames <- list.files(path ="analyses/qubit_merge_csv", pattern = NULL, all.files = FALSE)
#print file names
print(filenames)
# List file names to be combined
filenames <- list.files(path ="analyses/qubit_merge_csv", pattern = "*.csv")
#print file names
print(filenames)
#full path to csv filnames
fullpath=file.path("analyses/qubit_merge_csv/", filenames)
print(fullpath)
masterQ <- do.call("rbind",lapply(filenames, FUN=function(files{ read.csv(files)})))
masterQ <- do.call("rbind", lapply(function(files){ read.csv(files)}))
masterQ <- do.call("rbind", lapply(filenames, FUN = function(files){ read.csv(files)}))
masterQ <- do.call("rbind", lapply(filenames, FUN = function(files){ read.csv(files)}))
(fullpath)
#full path to csv filnames
fullpath=file.path("analyses/qubit_merge_csv", filenames)
print(fullpath)
masterQ <- do.call("rbind", lapply(filenames, FUN = function(files){ read.csv(files)}))
#read in new UTF version of QubitData
qubitnew <- read.csv("data/Qubit_data/QubitData_2018-10-31_17-54-22_UTF8.csv")
# Add in tube numbers to Qubit file in a new column called "tube_number"
qubitnew$tube_number <- c("423-2", "414-2")
#make "tube_number" characters
qubitnew$tube_number <- as.character(qubitnew$tube_number)
#rename "Original.sample.conc." column name to include units -- "Original_sample_conc_ng.ul" in order to get rid of unit column, as well as to be able to join with hemosample_qubit_table.csv
colnames(qubitnew)[colnames(qubitnew)=="Original.sample.conc."] <- "Original_sample_conc_ng.ul"
#rename "Test.Date" to "Test_Date" so that it joins correctly with hemoqubit
colnames(qubitnew)[colnames(qubitnew)=="Test.Date"] <- "Test_Date"
#before joining with hemo_qubit, add column with contents of extraction type, and whether lyophilized
qubitnew$extraction_method <- "RNeasy"
qubitnew$lyophilized_y_n <- "n"
#change "Original_sampel_conc_ng.ul" to character
qubitnew$Original_sample_conc_ng.ul <- as.character(qubitnew$Original_sample_conc_ng.ul)
#replace "Out of range" in "Original_sample_conc_ng.ul" to "0"s
qubitnew[qubitnew$Original_sample_conc_ng.ul == "Out of range",]$Original_sample_conc_ng.ul = 0
# add total_sample_vol_ul and total_yield_ng
# make sure that the "total_sample_vol_ul" is the ul of sample remaining after Qubit reading and Bioanalyzer/NanoDrop
qubitnew$total_sample_vol_ul <- "12"
# make "total_sample_vol_ul" and "Original_sample_conc_ng.ul" into numeric
qubitnew$total_sample_vol_ul <- as.numeric(qubitnew$total_sample_vol_ul)
qubitnew$Original_sample_conc_ng.ul <- as.numeric(qubitnew$Original_sample_conc_ng.ul)
# make "Original_sample_conc_ng.ul" and "total_sample_vol_ul" into objects
x <- qubitnew$Original_sample_conc_ng.ul
y <- qubitnew$total_sample_vol_ul
# make new column called "total_yield_ng" that multiplies "Original_sample_conc_ng.ul" and "total_sample_vol_ul"
qubitnew$total_yield_ng <- x * y
#list column names
colnames(qubitnew)
#call out the columns of interest of qubitnew
qubitnew2 <- subset(qubitnew, select = c(tube_number, Test_Date, Original_sample_conc_ng.ul, total_sample_vol_ul, total_yield_ng, extraction_method, lyophilized_y_n))
##################################################################
#COMBINE INTO MASTER QUBIT RESULTS CSV
#read in the RNAzol Qubit data (current master of all QUbit results thus far)
RNAzol <- read.csv("analyses/RNAzol_Qubit.csv")
##################################################################
#COMBINE INTO MASTER QUBIT RESULTS CSV
#read in the RNAzol Qubit data (current master of all QUbit results thus far)
RNAzol <- read.csv("analyses/RNAzol_Qubit.csv")
# RNAzol has a column "X" that new qubit data does not. Call out all columns except column "X".
RNAz <- subset(RNAzol, select = c(tube_number, Test_Date, Original_sample_conc_ng.ul, total_sample_vol_ul, total_yield_ng, extraction_method, lyophilized_y_n))
#append new data to RNAz
masterQ <- system("cat analyses/RNAzol_Qubit.csv analyses/edit-QubitData_2018-10-31_17-54-22.csv")
#append new data to RNAz
masterQ <- system("cat analyses/RNAzol_Qubit.csv analyses/edit-QubitData_2018-10-31_17-54-22.csv")
#append new data to RNAz
masterQ <- system("cat analyses/RNAzol_Qubit.csv analyses/edit-QubitData_2018-10-31_17-54-22.csv, header = F")
#append new data to RNAz
masterQ <- system("sed 1d analyses/edit-QubitData_2018-10-31_17-54-22.csv > analyses/103118-Qubitdata.csv | cat analyses/RNAzol_Qubit.csv analyses/edit-QubitData_2018-10-31_17-54-22.csv)
#append new data to RNAz
masterQ <- system("sed 1d analyses/edit-QubitData_2018-10-31_17-54-22.csv > analyses/103118-Qubitdata.csv | cat analyses/RNAzol_Qubit.csv analyses/edit-QubitData_2018-10-31_17-54-22.csv > analyses/master_Qubit.csv)
#append new data to RNAz
masterQ <- system("sed 1d analyses/edit-QubitData_2018-10-31_17-54-22.csv > analyses/103118-Qubitdata.csv | cat analyses/RNAzol_Qubit.csv analyses/edit-QubitData_2018-10-31_17-54-22.csv > analyses/master_Qubit.csv")
mQ <- read.csv("analyses/master_Qubit.csv")
View(mQ)
#append new data to RNAz
masterQ <- system("sed 1d analyses/edit-QubitData_2018-10-31_17-54-22.csv > analyses/103118-Qubitdata.csv | cat analyses/RNAzol_Qubit.csv analyses/103118-Qubitdata.csv > analyses/master_Qubit.csv")
mQ <- read.csv("analyses/master_Qubit.csv")
View(mQ)
mQ <- read.csv("analyses/103118-Qubitdata.csv")
View(mQ)
View(mQ)
mQ <- read.csv("analyses/master_Qubit.csv")
View(mQ)
#append new data to RNAz
masterQ <- system("sed 1d analyses/edit-QubitData_2018-10-31_17-54-22.csv > analyses/103118-Qubitdata.csv | cat analyses/RNAzol_Qubit.csv analyses/103118-Qubitdata.csv > analyses/master_Qubit.csv")
mQ <- read.csv("analyses/master_Qubit.csv")
mQ <- read.csv("analyses/103118-Qubitdata.csv")
View(mQ)
#append new data to RNAz
masterQ <- system("sed 1d analyses/edit-QubitData_2018-10-31_17-54-22.csv > analyses/103118-Qubitdata.csv | cat analyses/RNAzol_Qubit.csv analyses/103118-Qubitdata.csv > analyses/master_Qubit.csv")
mQ <- read.csv("analyses/103118-Qubitdata.csv")
mQ <- read.csv("analyses/master_Qubit.csv")
#read in new UTF version of QubitData
qubitnew <- read.csv("data/Qubit_data/QubitData_2018-10-31_17-54-22_UTF8.csv")
# Add in tube numbers to Qubit file in a new column called "tube_number"
qubitnew$tube_number <- c("423-2", "414-2")
#make "tube_number" characters
qubitnew$tube_number <- as.character(qubitnew$tube_number)
#rename "Original.sample.conc." column name to include units -- "Original_sample_conc_ng.ul" in order to get rid of unit column, as well as to be able to join with hemosample_qubit_table.csv
colnames(qubitnew)[colnames(qubitnew)=="Original.sample.conc."] <- "Original_sample_conc_ng.ul"
#rename "Test.Date" to "Test_Date" so that it joins correctly with hemoqubit
colnames(qubitnew)[colnames(qubitnew)=="Test.Date"] <- "Test_Date"
#before joining with hemo_qubit, add column with contents of extraction type, and whether lyophilized
qubitnew$extraction_method <- "RNeasy"
qubitnew$lyophilized_y_n <- "n"
#change "Original_sampel_conc_ng.ul" to character
qubitnew$Original_sample_conc_ng.ul <- as.character(qubitnew$Original_sample_conc_ng.ul)
#replace "Out of range" in "Original_sample_conc_ng.ul" to "0"s
qubitnew[qubitnew$Original_sample_conc_ng.ul == "Out of range",]$Original_sample_conc_ng.ul = 0
# add total_sample_vol_ul and total_yield_ng
# make sure that the "total_sample_vol_ul" is the ul of sample remaining after Qubit reading and Bioanalyzer/NanoDrop
qubitnew$total_sample_vol_ul <- "12"
# make "total_sample_vol_ul" and "Original_sample_conc_ng.ul" into numeric
qubitnew$total_sample_vol_ul <- as.numeric(qubitnew$total_sample_vol_ul)
qubitnew$Original_sample_conc_ng.ul <- as.numeric(qubitnew$Original_sample_conc_ng.ul)
# make "Original_sample_conc_ng.ul" and "total_sample_vol_ul" into objects
x <- qubitnew$Original_sample_conc_ng.ul
y <- qubitnew$total_sample_vol_ul
# make new column called "total_yield_ng" that multiplies "Original_sample_conc_ng.ul" and "total_sample_vol_ul"
qubitnew$total_yield_ng <- x * y
#list column names
colnames(qubitnew)
#call out the columns of interest of qubitnew
qubitnew2 <- subset(qubitnew, select = c(tube_number, Test_Date, Original_sample_conc_ng.ul, total_sample_vol_ul, total_yield_ng, extraction_method, lyophilized_y_n))
View(qubitnew2)
#write out new qubit data to .csv
write.csv(qubitnew2, "edit-QubitData_2018-10-31_17-54-22.csv")
#append new data to RNAzol_Qubit.csv
masterQ <- system("sed 1d analyses/edit-QubitData_2018-10-31_17-54-22.csv > analyses/103118-Qubitdata.csv | cat analyses/RNAzol_Qubit.csv analyses/103118-Qubitdata.csv > analyses/master_Qubit.csv")
mQ <- read.csv("analyses/master_Qubit.csv")
View(mQ)
#append new data to RNAzol_Qubit.csv
system("sed 1d analyses/edit-QubitData_2018-10-31_17-54-22.csv > analyses/103118-Qubitdata.csv | cat analyses/RNAzol_Qubit.csv analyses/103118-Qubitdata.csv > analyses/master_Qubit.csv")
mQ <- read.csv("analyses/master_Qubit.csv")
View(mQ)
##################################################################
#COMBINE INTO MASTER QUBIT RESULTS CSV
#remove "X" column from "RNAzol_Qubit.csv"
RNAz <- read.csv("analyses/RNAzol_Qubit.csv")
Rnaz <- subset(RNAz, select = c(tube_number, Test_Date, Original_sample_conc_ng.ul, total_sample_vol_ul, total_yield_ng, extraction_method, lyophilized_y_n))
#write.csv new RNA qubit results without the "X" collumn
write.csv(Rnaz, "analyses/rnazol_qubit.csv")
#write.csv new RNA qubit results without the "X" collumn
write.csv(Rnaz, "analyses/rnazol_qubit.csv")
View(Rnaz)
#write.csv new RNA qubit results without the "X" collumn
write.csv(Rnaz, "analyses/rnazol_qubit.csv")
#write.csv new RNA qubit results without the "X" collumn
write.csv(Rnaz, "analyses/rnazol-qubit.csv")
#append new data to RNAzol_Qubit.csv
system("sed 1d analyses/edit-QubitData_2018-10-31_17-54-22.csv > analyses/103118-Qubitdata.csv | cat analyses/rnazol-qubit.csv analyses/103118-Qubitdata.csv > analyses/master_Qubit.csv")
mQ <- read.csv("analyses/master_Qubit.csv")
View(mQ)
#append new data to RNAzol_Qubit.csv
system("sed 1d analyses/edit-QubitData_2018-10-31_17-54-22.csv > analyses/103118-Qubitdata.csv | cat analyses/RNAzol_Qubit.csv analyses/103118-Qubitdata.csv > analyses/master_Qubit.csv")
hq <- read.csv("analyses/hemosample_qubit_table.csv")
View(hq)
pwd
quantrep <- read.table("http://owl.fish.washington.edu/scaphapoda/grace/2015-Cgseed-DIA/EncyclopeDIA-Walnut-outputs/20181210-Cg-quant-reps.elib.peptides.txt")
View(quantrep)
quantrep <- read.table("http://owl.fish.washington.edu/scaphapoda/grace/2015-Cgseed-DIA/EncyclopeDIA-Walnut-outputs/20181210-Cg-quant-reps.elib.peptides.txt", header = TRUE)
View(quantrep)
# read in
MSstats <- read.table("http://owl.fish.washington.edu/scaphapoda/grace/2015-Cgseed-DIA/post-EncyclopeDIA-Skyline/20181210-SkylinetoMSStats-report.csv")
# read in
MSstats <- read.csv("http://owl.fish.washington.edu/scaphapoda/grace/2015-Cgseed-DIA/post-EncyclopeDIA-Skyline/20181210-SkylinetoMSStats-report.csv")
# read in
MSstats <- read.csv("http://owl.fish.washington.edu/scaphapoda/grace/2015-Cgseed-DIA/post-EncyclopeDIA-Skyline/20181210-SkylinetoMSStats-report.csv")
# read in
MSstats <- read.csv("http://owl.fish.washington.edu/scaphapoda/grace/2015-Cgseed-DIA/post-EncyclopeDIA-Skyline/20181210-SkylinetoMSStats-report.csv")
# read in
MSstats <- read.csv("http://owl.fish.washington.edu/scaphapoda/grace/2015-Cgseed-DIA/post-EncyclopeDIA-Skyline/20181210-SkylinetoMSStats-report.csv")
# read in
MSstats <- read.csv("http://owl.fish.washington.edu/scaphapoda/grace/2015-Cgseed-DIA/post-EncyclopeDIA-Skyline/20181210-SkylinetoMSStats-report.csv", header = TRUE)
# read in
MSstats <- read.csv("http://owl.fish.washington.edu/scaphapoda/grace/2015-Cgseed-DIA/post-EncyclopeDIA-Skyline/20181210-SkylinetoMSStats-report.csv", header = TRUE)
# read in
MSstats <- read.csv("http://owl.fish.washington.edu/scaphapoda/grace/2015-Cgseed-DIA/post-EncyclopeDIA-Skyline/20181210-SkylinetoMSStats-report.csv", header = TRUE)
# read in
MSstats <- read.table("http://owl.fish.washington.edu/scaphapoda/grace/2015-Cgseed-DIA/post-EncyclopeDIA-Skyline/20181210-SkylinetoMSStats-report.csv", header = TRUE)
# read in
MSstats <- read.table("http://owl.fish.washington.edu/scaphapoda/grace/2015-Cgseed-DIA/post-EncyclopeDIA-Skyline/20181210-SkylinetoMSStats-report.csv", header = TRUE)
# read in
MSstats <- read.csv("http://owl.fish.washington.edu/scaphapoda/grace/2015-Cgseed-DIA/post-EncyclopeDIA-Skyline/20181210-SkylinetoMSStats-report.csv", header = TRUE)
# read in
MSstats <- read.csv("http://owl.fish.washington.edu/scaphapoda/grace/2015-Cgseed-DIA/post-EncyclopeDIA-Skyline/20181210-SkylinetoMSStats-report.csv")
clear
SkytoMS <- read.csv("http://owl.fish.washington.edu/scaphapoda/grace/2015-Cgseed-DIA/post-EncyclopeDIA-Skyline/20181210-SkylinetoMSStats-report.csv")
View(SkytoMS)
mutate(SkytoMS, oyster_sample = ifelse(File.name == "2015_December_30_DIA_oysterseed1.mzML" | File.name == "2015_December_30_DIA_oysterseed3.mzML" | File.name == "2015_December_30_DIA_oysterseed4.mzML" | File.name == "2016_Feb_01_DIA_oyster5.mzML", "oysterseed_01", ifelse(File.name == "2015_December_30_oysterseed15.mzML" | File.name == "2015_December_30_DIA_oysterseed7.mzML" | File.name == "2015_December_30_DIA_oysterseed8.mzML" | File.name == "2016_Feb_01_DIA_oyster6.mzML", "oysterseed_02", ifelse(File.name == "2015_December_30_DIA_oysterseed9.mzML"| File.name == "2015_December_30_DIA_oysterseed11.mzML"| File.name == "2015_December_30_DIA_oysterseed12.mzML"| File.name == "2016_Feb_01_DIA_oyster7.mzML", "oysterseed_13", "oysterseed_14"))) %>%
mutate(SkytoMS, oyster_sample = ifelse(File.name == "2015_December_30_DIA_oysterseed1.mzML" | File.name == "2015_December_30_DIA_oysterseed3.mzML" | File.name == "2015_December_30_DIA_oysterseed4.mzML" | File.name == "2016_Feb_01_DIA_oyster5.mzML", "oysterseed_01", ifelse(File.name == "2015_December_30_oysterseed15.mzML" | File.name == "2015_December_30_DIA_oysterseed7.mzML" | File.name == "2015_December_30_DIA_oysterseed8.mzML" | File.name == "2016_Feb_01_DIA_oyster6.mzML", "oysterseed_02", ifelse(File.name == "2015_December_30_DIA_oysterseed9.mzML"| File.name == "2015_December_30_DIA_oysterseed11.mzML"| File.name == "2015_December_30_DIA_oysterseed12.mzML"| File.name == "2016_Feb_01_DIA_oyster7.mzML", "oysterseed_13", "oysterseed_14")))) %>%
SkytoMS <- mutate(SkytoMS, oyster_sample = ifelse(File.name == "2015_December_30_DIA_oysterseed1.mzML" | File.name == "2015_December_30_DIA_oysterseed3.mzML" | File.name == "2015_December_30_DIA_oysterseed4.mzML" | File.name == "2016_Feb_01_DIA_oyster5.mzML", "oysterseed_01", ifelse(File.name == "2015_December_30_oysterseed15.mzML" | File.name == "2015_December_30_DIA_oysterseed7.mzML" | File.name == "2015_December_30_DIA_oysterseed8.mzML" | File.name == "2016_Feb_01_DIA_oyster6.mzML", "oysterseed_02", ifelse(File.name == "2015_December_30_DIA_oysterseed9.mzML"| File.name == "2015_December_30_DIA_oysterseed11.mzML"| File.name == "2015_December_30_DIA_oysterseed12.mzML"| File.name == "2016_Feb_01_DIA_oyster7.mzML", "oysterseed_13", "oysterseed_14")))) %>%
SkytoMS <- mutate(SkytoMS, oyster_sample = ifelse(File.name == "2015_December_30_DIA_oysterseed1.mzML" | File.name == "2015_December_30_DIA_oysterseed3.mzML" | File.name == "2015_December_30_DIA_oysterseed4.mzML" | File.name == "2016_Feb_01_DIA_oyster5.mzML", "oysterseed_01", ifelse(File.name == "2015_December_30_oysterseed15.mzML" | File.name == "2015_December_30_DIA_oysterseed7.mzML" | File.name == "2015_December_30_DIA_oysterseed8.mzML" | File.name == "2016_Feb_01_DIA_oyster6.mzML", "oysterseed_02", ifelse(File.name == "2015_December_30_DIA_oysterseed9.mzML"| File.name == "2015_December_30_DIA_oysterseed11.mzML"| File.name == "2015_December_30_DIA_oysterseed12.mzML"| File.name == "2016_Feb_01_DIA_oyster7.mzML", "oysterseed_13", "oysterseed_14")))) %>%
SkytoMS <- mutate(SkytoMS, oyster_sample = ifelse(File.name == "2015_December_30_DIA_oysterseed1.mzML" | File.name == "2015_December_30_DIA_oysterseed3.mzML" | File.name == "2015_December_30_DIA_oysterseed4.mzML" | File.name == "2016_Feb_01_DIA_oyster5.mzML", "oysterseed_01", ifelse(File.name == "2015_December_30_oysterseed15.mzML" | File.name == "2015_December_30_DIA_oysterseed7.mzML" | File.name == "2015_December_30_DIA_oysterseed8.mzML" | File.name == "2016_Feb_01_DIA_oyster6.mzML", "oysterseed_02", ifelse(File.name == "2015_December_30_DIA_oysterseed9.mzML"| File.name == "2015_December_30_DIA_oysterseed11.mzML"| File.name == "2015_December_30_DIA_oysterseed12.mzML"| File.name == "2016_Feb_01_DIA_oyster7.mzML", "oysterseed_13", "oysterseed_14")))) %>%
SkytoMS <- mutate(SkytoMS, oyster_sample = ifelse(File.name == "2015_December_30_DIA_oysterseed1.mzML" | File.name == "2015_December_30_DIA_oysterseed3.mzML" | File.name == "2015_December_30_DIA_oysterseed4.mzML" | File.name == "2016_Feb_01_DIA_oyster5.mzML", "oysterseed_01", ifelse(File.name == "2015_December_30_oysterseed15.mzML" | File.name == "2015_December_30_DIA_oysterseed7.mzML" | File.name == "2015_December_30_DIA_oysterseed8.mzML" | File.name == "2016_Feb_01_DIA_oyster6.mzML", "oysterseed_02", ifelse(File.name == "2015_December_30_DIA_oysterseed9.mzML"| File.name == "2015_December_30_DIA_oysterseed11.mzML"| File.name == "2015_December_30_DIA_oysterseed12.mzML"| File.name == "2016_Feb_01_DIA_oyster7.mzML", "oysterseed_13", "oysterseed_14"))))
View(SkytoMS)
SkytoMS <- mutate(SkytoMS, oyster_sample = ifelse(File.name == 2015_December_30_DIA_oysterseed1.mzML | File.name == 2015_December_30_DIA_oysterseed3.mzML | File.name == 2015_December_30_DIA_oysterseed4.mzML | File.name == 2016_Feb_01_DIA_oyster5.mzML, "oysterseed_01", ifelse(File.name == 2015_December_30_oysterseed15.mzML | File.name == 2015_December_30_DIA_oysterseed7.mzML | File.name == 2015_December_30_DIA_oysterseed8.mzML | File.name == 2016_Feb_01_DIA_oyster6.mzML, "oysterseed_02", ifelse(File.name == 2015_December_30_DIA_oysterseed9.mzML | File.name == 2015_December_30_DIA_oysterseed11.mzML | File.name == 2015_December_30_DIA_oysterseed12.mzML | File.name == 2016_Feb_01_DIA_oyster7.mzML, "oysterseed_13", "oysterseed_14"))))
hemqub <- read.csv("data/20180817-hemo-Qubit.csv")
View(hemqub)
