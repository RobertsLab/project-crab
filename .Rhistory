sample_table <- read.csv("analyses/sample_table.csv")
View(sample_table)
sample_qubit <- left_join(sample_table, qubit, by = "tube_number")
write.csv(sample_qubit, "analyses/hemosample_qubit_table.csv")
#read in hemosample_qubit_table.csv. This .csv is all the hemolymph sampling data, as well as the Qubit data up until now.
hemo_qubit <- read.csv("analyses/hemosample_qubit_table.csv")
#read in hemosample_qubit_table.csv. This .csv is all the hemolymph sampling data, as well as the Qubit data up until now.
hemo_qubit <- read.csv("analyses/hemosample_qubit_table.csv")
#read in the new qubit csv
qubitnew <- read.csv("data/Qubit_data/QubitData_2018-10-10_18-19-56_UTF8.csv")
# Add in tube numbers to Qubit file in a new column called "tube_number"
qubitnew$tube_number <- c("491-1","452-1","455-1","405-1","430-1","441-1","437-1","418-1","410-1","493-1")
#rename "Original.sample.conc." column name to include units -- "Original_sample_conc_ng.ul" in order to get rid of unit column, as well as to be able to join with hemosample_qubit_table.csv
colnames(qubitnew)[colnames(qubitnew)=="Original.sample.conc."] <- "Original_sample_conc_ng.ul"
#rename "Test.Date" to "Test_Date" so that it joins correctly with hemoqubit
colnames(qubitnew)[colnames(qubitnew)=="Test.Date"] <- "Test_Date"
#before joining with hemo_qubit, add column with contents of extraction type, and whether lyophilized
qubitnew$extraction_method <- "Tri-reagent"
qubitnew$lyophilized_y_n <- "n"
#replace "Out of range" in "Original_sample_conc_ng.ul" to "0"s
qubitnew[qubitnew$Original_sample_conc_ng.ul == "Out of range",]$Original_sample_conc_ng.ul = 0
# add total_sample_vol_ul and total_yield_ng
# make sure that the "total_sample_vol_ul" is the ul of sample remaining after Qubit reading
qubitnew$total_sample_vol_ul <- "5"
# make "total_sample_vol_ul" and "Original_sample_conc_ng.ul" into numeric
qubitnew$total_sample_vol_ul <- as.numeric(qubitnew$total_sample_vol_ul)
qubitnew$Original_sample_conc_ng.ul <- as.numeric(qubitnew$Original_sample_conc_ng.ul)
View(qubitnew)
#replace "Out of range" in "Original_sample_conc_ng.ul" to "0"s
qubitnew[qubitnew$Original_sample_conc_ng.ul == "Out of range",]$Original_sample_conc_ng.ul = 0
#read in hemosample_qubit_table.csv. This .csv is all the hemolymph sampling data, as well as the Qubit data up until now.
hemo_qubit <- read.csv("analyses/hemosample_qubit_table.csv")
#read in the new qubit csv
qubitnew <- read.csv("data/Qubit_data/QubitData_2018-10-10_18-19-56_UTF8.csv")
View(qubitnew)
# Add in tube numbers to Qubit file in a new column called "tube_number"
qubitnew$tube_number <- c("491-1","452-1","455-1","405-1","430-1","441-1","437-1","418-1","410-1","493-1")
#rename "Original.sample.conc." column name to include units -- "Original_sample_conc_ng.ul" in order to get rid of unit column, as well as to be able to join with hemosample_qubit_table.csv
colnames(qubitnew)[colnames(qubitnew)=="Original.sample.conc."] <- "Original_sample_conc_ng.ul"
#rename "Test.Date" to "Test_Date" so that it joins correctly with hemoqubit
colnames(qubitnew)[colnames(qubitnew)=="Test.Date"] <- "Test_Date"
#before joining with hemo_qubit, add column with contents of extraction type, and whether lyophilized
qubitnew$extraction_method <- "Tri-reagent"
qubitnew$lyophilized_y_n <- "n"
#replace "Out of range" in "Original_sample_conc_ng.ul" to "0"s
qubitnew[qubitnew$Original_sample_conc_ng.ul == "Out of range",]$Original_sample_conc_ng.ul = 0
#replace "Out of range" in "Original_sample_conc_ng.ul" to "0"s
qubitnew[qubitnew$Original_sample_conc_ng.ul == "Out of range",]$Original_sample_conc_ng.ul = "0"
#replace "Out of range" in "Original_sample_conc_ng.ul" to "0"s
qubitnew[qubitnew$Original_sample_conc_ng.ul == "Out of range",]$Original_sample_conc_ng.ul = 0
#read in the new qubit csv
qubitnew <- read.csv("data/Qubit_data/QubitData_2018-10-10_18-19-56_UTF8.csv")
# Add in tube numbers to Qubit file in a new column called "tube_number"
qubitnew$tube_number <- c("491-1","452-1","455-1","405-1","430-1","441-1","437-1","418-1","410-1","493-1")
#rename "Original.sample.conc." column name to include units -- "Original_sample_conc_ng.ul" in order to get rid of unit column, as well as to be able to join with hemosample_qubit_table.csv
colnames(qubitnew)[colnames(qubitnew)=="Original.sample.conc."] <- "Original_sample_conc_ng.ul"
#rename "Test.Date" to "Test_Date" so that it joins correctly with hemoqubit
colnames(qubitnew)[colnames(qubitnew)=="Test.Date"] <- "Test_Date"
#before joining with hemo_qubit, add column with contents of extraction type, and whether lyophilized
qubitnew$extraction_method <- "Tri-reagent"
qubitnew$lyophilized_y_n <- "n"
View(qubitnew)
# add total_sample_vol_ul and total_yield_ng
# make sure that the "total_sample_vol_ul" is the ul of sample remaining after Qubit reading
qubitnew$total_sample_vol_ul <- "5"
#replace "Out of range" in "Original_sample_conc_ng.ul" to "0"s
qubitnew[qubitnew$Original_sample_conc_ng.ul == "Out of range",]$Original_sample_conc_ng.ul = 0
#read in the new qubit csv
qubitnew <- read.csv("data/Qubit_data/QubitData_2018-10-10_18-19-56_UTF8.csv")
# Add in tube numbers to Qubit file in a new column called "tube_number"
qubitnew$tube_number <- c("491-1","452-1","455-1","405-1","430-1","441-1","437-1","418-1","410-1","493-1")
#rename "Original.sample.conc." column name to include units -- "Original_sample_conc_ng.ul" in order to get rid of unit column, as well as to be able to join with hemosample_qubit_table.csv
colnames(qubitnew)[colnames(qubitnew)=="Original.sample.conc."] <- "Original_sample_conc_ng.ul"
#rename "Test.Date" to "Test_Date" so that it joins correctly with hemoqubit
colnames(qubitnew)[colnames(qubitnew)=="Test.Date"] <- "Test_Date"
#before joining with hemo_qubit, add column with contents of extraction type, and whether lyophilized
qubitnew$extraction_method <- "Tri-reagent"
qubitnew$lyophilized_y_n <- "n"
qubitnew$Original_sample_conc_ng.ul[qubitnew$Original_sample_conc_ng.ul == "Out of range"] <- 0
#read in the new qubit csv
qubitnew <- read.csv("data/Qubit_data/QubitData_2018-10-10_18-19-56_UTF8.csv")
# Add in tube numbers to Qubit file in a new column called "tube_number"
qubitnew$tube_number <- c("491-1","452-1","455-1","405-1","430-1","441-1","437-1","418-1","410-1","493-1")
#rename "Original.sample.conc." column name to include units -- "Original_sample_conc_ng.ul" in order to get rid of unit column, as well as to be able to join with hemosample_qubit_table.csv
colnames(qubitnew)[colnames(qubitnew)=="Original.sample.conc."] <- "Original_sample_conc_ng.ul"
#rename "Test.Date" to "Test_Date" so that it joins correctly with hemoqubit
colnames(qubitnew)[colnames(qubitnew)=="Test.Date"] <- "Test_Date"
#before joining with hemo_qubit, add column with contents of extraction type, and whether lyophilized
qubitnew$extraction_method <- "Tri-reagent"
qubitnew$lyophilized_y_n <- "n"
#change "Original_sampel_conc_ng.ul" to character
qubitnew$Original_sample_conc_ng.ul <- as.character(qubitnew$Original_sample_conc_ng.ul)
#replace "Out of range" in "Original_sample_conc_ng.ul" to "0"s
qubitnew[qubitnew$Original_sample_conc_ng.ul == "Out of range",]$Original_sample_conc_ng.ul = 0
# add total_sample_vol_ul and total_yield_ng
# make sure that the "total_sample_vol_ul" is the ul of sample remaining after Qubit reading
qubitnew$total_sample_vol_ul <- "5"
# make "total_sample_vol_ul" and "Original_sample_conc_ng.ul" into numeric
qubitnew$total_sample_vol_ul <- as.numeric(qubitnew$total_sample_vol_ul)
qubitnew$Original_sample_conc_ng.ul <- as.numeric(qubitnew$Original_sample_conc_ng.ul)
# make "Original_sample_conc_ng.ul" and "total_sample_vol_ul" into objects
x <- qubitnew$Original_sample_conc_ng.ul
y <- qubitnew$total_sample_vol_ul
# make new column called "total_yield_ng" that multiplies "Original_sample_conc_ng.ul" and "total_sample_vol_ul"
qubitnew$total_yield_ng <- x * y
#list column names
colnames(qubitnew)
#call out the columns of interest of qubitnew
qubitnew2 <- subset(qubitnew, select = c(tube_number, Test_Date, Original_sample_conc_ng.ul, total_sample_vol_ul, total_yield_ng, extraction_method, lyophilized_y_n))
View(qubitnew2)
#left_join with hemo_qubit
hemo_qubit2 <- left_join(hemo_qubit, qubitnew2, by = "tube_number")
#read in hemosample_qubit_table.csv. This .csv is all the hemolymph sampling data, as well as the Qubit data up until now.
hemo_qubit <- read.csv("analyses/hemosample_qubit_table.csv")
#left_join with hemo_qubit
hemo_qubit2 <- left_join(hemo_qubit, qubitnew2, by = "tube_number")
View(hemo_qubit2)
#read in hemosample_qubit_table.csv. This .csv is all the hemolymph sampling data, as well as the Qubit data up until now.
hemo_qubit <- read.csv("analyses/hemosample_qubit_table.csv")
#read in the new qubit csv
qubitnew <- read.csv("data/Qubit_data/QubitData_2018-10-10_18-19-56_UTF8.csv")
# Add in tube numbers to Qubit file in a new column called "tube_number"
qubitnew$tube_number <- c("491-1","452-1","455-1","405-1","430-1","441-1","437-1","418-1","410-1","493-1")
qubitnew$tube_number <- as.factor(qubitnew$tube_number)
#rename "Original.sample.conc." column name to include units -- "Original_sample_conc_ng.ul" in order to get rid of unit column, as well as to be able to join with hemosample_qubit_table.csv
colnames(qubitnew)[colnames(qubitnew)=="Original.sample.conc."] <- "Original_sample_conc_ng.ul"
#rename "Test.Date" to "Test_Date" so that it joins correctly with hemoqubit
colnames(qubitnew)[colnames(qubitnew)=="Test.Date"] <- "Test_Date"
#before joining with hemo_qubit, add column with contents of extraction type, and whether lyophilized
qubitnew$extraction_method <- "Tri-reagent"
qubitnew$lyophilized_y_n <- "n"
#change "Original_sampel_conc_ng.ul" to character
qubitnew$Original_sample_conc_ng.ul <- as.character(qubitnew$Original_sample_conc_ng.ul)
#replace "Out of range" in "Original_sample_conc_ng.ul" to "0"s
qubitnew[qubitnew$Original_sample_conc_ng.ul == "Out of range",]$Original_sample_conc_ng.ul = 0
# add total_sample_vol_ul and total_yield_ng
# make sure that the "total_sample_vol_ul" is the ul of sample remaining after Qubit reading
qubitnew$total_sample_vol_ul <- "5"
# make "total_sample_vol_ul" and "Original_sample_conc_ng.ul" into numeric
qubitnew$total_sample_vol_ul <- as.numeric(qubitnew$total_sample_vol_ul)
qubitnew$Original_sample_conc_ng.ul <- as.numeric(qubitnew$Original_sample_conc_ng.ul)
# make "Original_sample_conc_ng.ul" and "total_sample_vol_ul" into objects
x <- qubitnew$Original_sample_conc_ng.ul
y <- qubitnew$total_sample_vol_ul
# make new column called "total_yield_ng" that multiplies "Original_sample_conc_ng.ul" and "total_sample_vol_ul"
qubitnew$total_yield_ng <- x * y
View(qubitnew)
#call out the columns of interest of qubitnew
qubitnew2 <- subset(qubitnew, select = c(tube_number, Test_Date, Original_sample_conc_ng.ul, total_sample_vol_ul, total_yield_ng, extraction_method, lyophilized_y_n))
#left_join with hemo_qubit
hemo_qubit2 <- left_join(hemo_qubit, qubitnew2, by = "tube_number")
#read in hemosample_qubit_table.csv. This .csv is all the hemolymph sampling data, as well as the Qubit data up until now.
hemo_qubit <- read.csv("analyses/hemosample_qubit_table.csv")
#read in the new qubit csv
qubitnew <- read.csv("data/Qubit_data/QubitData_2018-10-10_18-19-56_UTF8.csv")
# Add in tube numbers to Qubit file in a new column called "tube_number"
qubitnew$tube_number <- c("491-1","452-1","455-1","405-1","430-1","441-1","437-1","418-1","410-1","493-1")
qubitnew$tube_number <- as.character(qubitnew$tube_number)
#rename "Original.sample.conc." column name to include units -- "Original_sample_conc_ng.ul" in order to get rid of unit column, as well as to be able to join with hemosample_qubit_table.csv
colnames(qubitnew)[colnames(qubitnew)=="Original.sample.conc."] <- "Original_sample_conc_ng.ul"
#read in hemosample_qubit_table.csv. This .csv is all the hemolymph sampling data, as well as the Qubit data up until now.
hemo_qubit <- read.csv("analyses/hemosample_qubit_table.csv")
#read in the new qubit csv
qubitnew <- read.csv("data/Qubit_data/QubitData_2018-10-10_18-19-56_UTF8.csv")
# Add in tube numbers to Qubit file in a new column called "tube_number"
qubitnew$tube_number <- c("491-1","452-1","455-1","405-1","430-1","441-1","437-1","418-1","410-1","493-1")
#rename "Original.sample.conc." column name to include units -- "Original_sample_conc_ng.ul" in order to get rid of unit column, as well as to be able to join with hemosample_qubit_table.csv
colnames(qubitnew)[colnames(qubitnew)=="Original.sample.conc."] <- "Original_sample_conc_ng.ul"
#rename "Test.Date" to "Test_Date" so that it joins correctly with hemoqubit
colnames(qubitnew)[colnames(qubitnew)=="Test.Date"] <- "Test_Date"
#before joining with hemo_qubit, add column with contents of extraction type, and whether lyophilized
qubitnew$extraction_method <- "Tri-reagent"
qubitnew$lyophilized_y_n <- "n"
#change "Original_sampel_conc_ng.ul" to character
qubitnew$Original_sample_conc_ng.ul <- as.character(qubitnew$Original_sample_conc_ng.ul)
#replace "Out of range" in "Original_sample_conc_ng.ul" to "0"s
qubitnew[qubitnew$Original_sample_conc_ng.ul == "Out of range",]$Original_sample_conc_ng.ul = 0
# add total_sample_vol_ul and total_yield_ng
# make sure that the "total_sample_vol_ul" is the ul of sample remaining after Qubit reading
qubitnew$total_sample_vol_ul <- "5"
# make "total_sample_vol_ul" and "Original_sample_conc_ng.ul" into numeric
qubitnew$total_sample_vol_ul <- as.numeric(qubitnew$total_sample_vol_ul)
qubitnew$Original_sample_conc_ng.ul <- as.numeric(qubitnew$Original_sample_conc_ng.ul)
# make "Original_sample_conc_ng.ul" and "total_sample_vol_ul" into objects
x <- qubitnew$Original_sample_conc_ng.ul
y <- qubitnew$total_sample_vol_ul
# make new column called "total_yield_ng" that multiplies "Original_sample_conc_ng.ul" and "total_sample_vol_ul"
qubitnew$total_yield_ng <- x * y
#call out the columns of interest of qubitnew
qubitnew2 <- subset(qubitnew, select = c(tube_number, Test_Date, Original_sample_conc_ng.ul, total_sample_vol_ul, total_yield_ng, extraction_method, lyophilized_y_n))
hemo_qubit$tube_number <- as.character(hemo_qubit$tube_number)
#left_join with hemo_qubit
hemo_qubit2 <- left_join(hemo_qubit, qubitnew2, by = "tube_number")
View(hemo_qubit2)
#read in hemosample_qubit_table.csv. This .csv is all the hemolymph sampling data, as well as the Qubit data up until now.
hemo_qubit <- read.csv("analyses/hemosample_qubit_table.csv")
#read in hemosample_qubit_table.csv. This .csv is all the hemolymph sampling data, as well as the Qubit data up until now.
hemo_qubit <- read.csv("analyses/hemosample_qubit_table.csv")
#read in hemosample_qubit_table.csv. This .csv is all the hemolymph sampling data, as well as the Qubit data up until now.
hemo_qubit <- read.csv("analyses/hemosample_qubit_table.csv")
#read in the new qubit csv
qubitnew <- read.csv("data/Qubit_data/QubitData_2018-10-10_18-19-56_UTF8.csv")
# Add in tube numbers to Qubit file in a new column called "tube_number"
qubitnew$tube_number <- c("491-1","452-1","455-1","405-1","430-1","441-1","437-1","418-1","410-1","493-1")
qubitnew$tube_number <- as.character(qubitnew$tube_number)
#rename "Original.sample.conc." column name to include units -- "Original_sample_conc_ng.ul" in order to get rid of unit column, as well as to be able to join with hemosample_qubit_table.csv
colnames(qubitnew)[colnames(qubitnew)=="Original.sample.conc."] <- "Original_sample_conc_ng.ul"
View(qubitnew)
#rename "Test.Date" to "Test_Date" so that it joins correctly with hemoqubit
colnames(qubitnew)[colnames(qubitnew)=="Test.Date"] <- "Test_Date"
#before joining with hemo_qubit, add column with contents of extraction type, and whether lyophilized
qubitnew$extraction_method <- "Tri-reagent"
qubitnew$lyophilized_y_n <- "n"
#change "Original_sampel_conc_ng.ul" to character
qubitnew$Original_sample_conc_ng.ul <- as.character(qubitnew$Original_sample_conc_ng.ul)
#replace "Out of range" in "Original_sample_conc_ng.ul" to "0"s
qubitnew[qubitnew$Original_sample_conc_ng.ul == "Out of range",]$Original_sample_conc_ng.ul = 0
# add total_sample_vol_ul and total_yield_ng
# make sure that the "total_sample_vol_ul" is the ul of sample remaining after Qubit reading
qubitnew$total_sample_vol_ul <- "5"
# make "total_sample_vol_ul" and "Original_sample_conc_ng.ul" into numeric
qubitnew$total_sample_vol_ul <- as.numeric(qubitnew$total_sample_vol_ul)
qubitnew$Original_sample_conc_ng.ul <- as.numeric(qubitnew$Original_sample_conc_ng.ul)
# make "Original_sample_conc_ng.ul" and "total_sample_vol_ul" into objects
x <- qubitnew$Original_sample_conc_ng.ul
y <- qubitnew$total_sample_vol_ul
# make new column called "total_yield_ng" that multiplies "Original_sample_conc_ng.ul" and "total_sample_vol_ul"
qubitnew$total_yield_ng <- x * y
#list column names
colnames(qubitnew)
#call out the columns of interest of qubitnew
qubitnew2 <- subset(qubitnew, select = c(tube_number, Test_Date, Original_sample_conc_ng.ul, total_sample_vol_ul, total_yield_ng, extraction_method, lyophilized_y_n))
hemo_qubit$tube_number <- as.character(hemo_qubit$tube_number)
#change some columns in qubitnew2 to match type in hemo_qubit
qubitnew2$Original_sample_conc_ng.ul <- as.factor(qubitnew2$Original_sample_conc_ng.ul)
View(qubitnew)
View(qubitnew2)
qubitnew2$total_sample_vol_ul <- as.integer(qubitnew2$total_sample_vol_ul)
qubitnew2$total_yield_ng <- as.factor(qubitnew2$total_yield_ng)
qubitnew2$extraction_method <- as.factor(qubitnew2$extraction_method)
qubitnew2$lyophilized_y_n <- as.factor(qubitnew2$lyophilized_y_n)
#check subset qubit file visually before joining with hemosample_qubit_table.csv
#change tube number in hemo_qubit to character to match qubitnew2
hemo_qubit$tube_number <- as.character(hemo_qubit$tube_number)
#left_join with hemo_qubit
hemo_qubit2 <- left_join(hemo_qubit, qubitnew2, by = "tube_number")
library(tidyverse)
library(dplyr)
#left_join with hemo_qubit
hemo_qubit2 <- left_join(hemo_qubit, qubitnew2, by = "tube_number")
View(hemo_qubit2)
#read in hemosample_qubit_table.csv. This .csv is all the hemolymph sampling data, as well as the Qubit data up until now.
hemo_qubit <- read.csv("analyses/hemosample_qubit_table.csv")
#read in the new qubit csv
qubitnew <- read.csv("data/Qubit_data/QubitData_2018-10-10_18-19-56_UTF8.csv")
# Add in tube numbers to Qubit file in a new column called "tube_number"
qubitnew$tube_number <- c("491-1","452-1","455-1","405-1","430-1","441-1","437-1","418-1","410-1","493-1")
qubitnew$tube_number <- as.character(qubitnew$tube_number)
#rename "Original.sample.conc." column name to include units -- "Original_sample_conc_ng.ul" in order to get rid of unit column, as well as to be able to join with hemosample_qubit_table.csv
colnames(qubitnew)[colnames(qubitnew)=="Original.sample.conc."] <- "Original_sample_conc_ng.ul"
#rename "Test.Date" to "Test_Date" so that it joins correctly with hemoqubit
colnames(qubitnew)[colnames(qubitnew)=="Test.Date"] <- "Test_Date"
#before joining with hemo_qubit, add column with contents of extraction type, and whether lyophilized
qubitnew$extraction_method <- "Tri-reagent"
qubitnew$lyophilized_y_n <- "n"
#change "Original_sampel_conc_ng.ul" to character
qubitnew$Original_sample_conc_ng.ul <- as.character(qubitnew$Original_sample_conc_ng.ul)
#replace "Out of range" in "Original_sample_conc_ng.ul" to "0"s
qubitnew[qubitnew$Original_sample_conc_ng.ul == "Out of range",]$Original_sample_conc_ng.ul = 0
# add total_sample_vol_ul and total_yield_ng
# make sure that the "total_sample_vol_ul" is the ul of sample remaining after Qubit reading
qubitnew$total_sample_vol_ul <- "5"
# make "total_sample_vol_ul" and "Original_sample_conc_ng.ul" into numeric
qubitnew$total_sample_vol_ul <- as.numeric(qubitnew$total_sample_vol_ul)
qubitnew$Original_sample_conc_ng.ul <- as.numeric(qubitnew$Original_sample_conc_ng.ul)
# make "Original_sample_conc_ng.ul" and "total_sample_vol_ul" into objects
x <- qubitnew$Original_sample_conc_ng.ul
y <- qubitnew$total_sample_vol_ul
# make new column called "total_yield_ng" that multiplies "Original_sample_conc_ng.ul" and "total_sample_vol_ul"
qubitnew$total_yield_ng <- x * y
#list column names
colnames(qubitnew)
#call out the columns of interest of qubitnew
qubitnew2 <- subset(qubitnew, select = c(tube_number, Test_Date, Original_sample_conc_ng.ul, total_sample_vol_ul, total_yield_ng, extraction_method, lyophilized_y_n))
View(qubitnew2)
#check subset qubit file visually before joining with hemosample_qubit_table.csv
#change tube number in hemo_qubit to character to match qubitnew2
hemo_qubit$tube_number <- as.character(hemo_qubit$tube_number)
#left_join with hemo_qubit
hemo_qubit2 <- left_join(hemo_qubit, qubitnew2, by = "tube_number")
library(tidyverse)
#left_join with hemo_qubit
hemo_qubit2 <- left_join(hemo_qubit, qubitnew2, by = "tube_number")
View(hemo_qubit2)
?left_join
#left_join with hemo_qubit
hemo_qubit2 <- left_join(hemo_qubit, qubitnew2, by = c("tube_number", "Test_Date", "Original_sample_conc_ng.ul", "total_sample_vol_ul", "total_yield_ng", "extraction_method", "lyophilized_y_n")
#left_join with hemo_qubit
hemo_qubit2 <- left_join(hemo_qubit, qubitnew2, by = c("tube_number", "Test_Date", "Original_sample_conc_ng.ul", "total_sample_vol_ul", "total_yield_ng", "extraction_method", "lyophilized_y_n"))
?merge
#left_join with hemo_qubit
hemo_qubit2 <- merge(hemo_qubit, qubitnew2, by = c("tube_number", "Test_Date", "Original_sample_conc_ng.ul", "total_sample_vol_ul", "total_yield_ng", "extraction_method", "lyophilized_y_n"))
#left_join with hemo_qubit
hemo_qubit2 <- merge(hemo_qubit, qubitnew2, by = "tube_number", by.x = by, by.y = by, all = FALSE, all.x = all, all.y = all, sort = TRUE, no.dups = TRUE)
#left_join with hemo_qubit
hemo_qubit2 <- left_join(hemo_qubit, qubitnew2, by = "tube_number")
#left_join with hemo_qubit
hemo_qubit2 <- merge(hemo_qubit, qubitnew2, all = TRUE, by = "tube_number")
#left_join with hemo_qubit
hemo_qubit2 <- left_join(hemo_qubit, qubitnew2, by = "tube_number")
library(tidyverse)
library(dplyr)
#read in hemosample_qubit_table.csv. This .csv is all the hemolymph sampling data, as well as the Qubit data up until now.
hemo_qubit <- read.csv("analyses/hemosample_qubit_table.csv")
#read in the new qubit csv
qubitnew <- read.csv("data/Qubit_data/QubitData_2018-10-10_18-19-56_UTF8.csv")
# Add in tube numbers to Qubit file in a new column called "tube_number"
qubitnew$tube_number <- c("491-1","452-1","455-1","405-1","430-1","441-1","437-1","418-1","410-1","493-1")
qubitnew$tube_number <- as.character(qubitnew$tube_number)
#rename "Original.sample.conc." column name to include units -- "Original_sample_conc_ng.ul" in order to get rid of unit column, as well as to be able to join with hemosample_qubit_table.csv
colnames(qubitnew)[colnames(qubitnew)=="Original.sample.conc."] <- "Original_sample_conc_ng.ul"
#rename "Test.Date" to "Test_Date" so that it joins correctly with hemoqubit
colnames(qubitnew)[colnames(qubitnew)=="Test.Date"] <- "Test_Date"
#before joining with hemo_qubit, add column with contents of extraction type, and whether lyophilized
qubitnew$extraction_method <- "Tri-reagent"
qubitnew$lyophilized_y_n <- "n"
View(qubitnew)
#change "Original_sampel_conc_ng.ul" to character
qubitnew$Original_sample_conc_ng.ul <- as.character(qubitnew$Original_sample_conc_ng.ul)
#replace "Out of range" in "Original_sample_conc_ng.ul" to "0"s
qubitnew[qubitnew$Original_sample_conc_ng.ul == "Out of range",]$Original_sample_conc_ng.ul = 0
# add total_sample_vol_ul and total_yield_ng
# make sure that the "total_sample_vol_ul" is the ul of sample remaining after Qubit reading
qubitnew$total_sample_vol_ul <- "5"
# make "total_sample_vol_ul" and "Original_sample_conc_ng.ul" into numeric
qubitnew$total_sample_vol_ul <- as.numeric(qubitnew$total_sample_vol_ul)
qubitnew$Original_sample_conc_ng.ul <- as.numeric(qubitnew$Original_sample_conc_ng.ul)
# make "Original_sample_conc_ng.ul" and "total_sample_vol_ul" into objects
x <- qubitnew$Original_sample_conc_ng.ul
y <- qubitnew$total_sample_vol_ul
# make new column called "total_yield_ng" that multiplies "Original_sample_conc_ng.ul" and "total_sample_vol_ul"
qubitnew$total_yield_ng <- x * y
#list column names
colnames(qubitnew)
#call out the columns of interest of qubitnew
qubitnew2 <- subset(qubitnew, select = c(tube_number, Test_Date, Original_sample_conc_ng.ul, total_sample_vol_ul, total_yield_ng, extraction_method, lyophilized_y_n))
View(qubitnew2)
#check subset qubit file visually before joining with hemosample_qubit_table.csv
#change tube number in hemo_qubit to character to match qubitnew2
hemo_qubit$tube_number <- as.character(hemo_qubit$tube_number)
#left_join with hemo_qubit
hemo_qubit2 <- left_join(hemo_qubit, qubitnew2, by = "tube_number")
View(hemo_qubit2)
View(hemo_qubit)
#Try changing column variables so that they match in the .x and .y columns...
qubitnew2$Original_sample_conc_ng.ul <- as.factor(qubitnew2$Original_sample_conc_ng.ul)
qubitnew2$total_sample_vol_ul <- as.integer(qubitnew2$total_sample_vol_ul)
qubitnew2$total_yield_ng <- as.factor(qubitnew2$total_yield_ng)
qubitnew2$lyophilized_y_n <- as.factor(qubitnew2$lyophilized_y_n)
hemo_qubit3 <- left_join(hemo_qubit, qubitnew2, by = "tube_number")
View(hemo_qubit3)
# read in "sample_table.csv" which is all the hemolymph sampling data and the tube_numbers (including the -1, -2, -3 from Day 26 triplicates)
mhemo <- read.csv("analyses/sample_table.csv")
# read in "sample_table.csv" which is all the hemolymph sampling data and the tube_numbers (including the -1, -2, -3 from Day 26 triplicates)
mhemo <- read.csv("analyses/sample_table.csv")
# read in the 20180817-Qubit-results.csv from project-crab/data. This file is the combined Qubit results file from all the RNAzol extractions
qubit-results <- read.csv("data/20180817-Qubit-results.csv")
# read in the 20180817-Qubit-results.csv from project-crab/data. This file is the combined Qubit results file from all the RNAzol extractions
qubitresults <- read.csv("data/20180817-Qubit-results.csv")
View(qubitresults)
# fix the qubitresults file so that it only has the columns of interest and add RNAzol extraction method column
qubitresults <- subset(qubitresults, select = c(tube_number, Test_Date, Original_sample_conc_ng.ul, total_sample_vol_ul, total_yield_ng))
View(qubitresults)
# add columns: "extraction_method" and "lyophilized_y_n"
qubitresults$extraction_method <- "RNAzol"
qubitresults$lyophilized_y_n <- "n"
# fix the qubitresults file so that it only has the columns of interest and add RNAzol extraction method column
qubitresults <- subset(qubitresults, select = c(tube_number, Test_Date, Original_sample_conc_ng.ul, total_sample_vol_ul, total_yield_ng, extraction_method, lyophilized_y_n)
# fix the qubitresults file so that it only has the columns of interest and add RNAzol extraction method column
qubitresults <- subset(qubitresults, select = c(tube_number, Test_Date, Original_sample_conc_ng.ul, total_sample_vol_ul, total_yield_ng, extraction_method, lyophilized_y_n))
# fix the qubitresults file so that it only has the columns of interest and add RNAzol extraction method column
qubitresults <- subset(qubitresults, select = c(tube_number, Test_Date, Original_sample_conc_ng.ul, total_sample_vol_ul, total_yield_ng, extraction_method, lyophilized_y_n))
View(qubitresults)
#read in the new qubit csv
qubitnew <- read.csv("data/Qubit_data/QubitData_2018-10-10_18-19-56_UTF8.csv")
# Add in tube numbers to Qubit file in a new column called "tube_number"
qubitnew$tube_number <- c("491-1","452-1","455-1","405-1","430-1","441-1","437-1","418-1","410-1","493-1")
View(qubitnew)
qubitnew$tube_number <- as.character(qubitnew$tube_number)
#rename "Original.sample.conc." column name to include units -- "Original_sample_conc_ng.ul" in order to get rid of unit column, as well as to be able to join with hemosample_qubit_table.csv
colnames(qubitnew)[colnames(qubitnew)=="Original.sample.conc."] <- "Original_sample_conc_ng.ul"
#rename "Test.Date" to "Test_Date" so that it joins correctly with hemoqubit
colnames(qubitnew)[colnames(qubitnew)=="Test.Date"] <- "Test_Date"
#before joining with hemo_qubit, add column with contents of extraction type, and whether lyophilized
qubitnew$extraction_method <- "Tri-reagent"
qubitnew$lyophilized_y_n <- "n"
#change "Original_sampel_conc_ng.ul" to character
qubitnew$Original_sample_conc_ng.ul <- as.character(qubitnew$Original_sample_conc_ng.ul)
#replace "Out of range" in "Original_sample_conc_ng.ul" to "0"s
qubitnew[qubitnew$Original_sample_conc_ng.ul == "Out of range",]$Original_sample_conc_ng.ul = 0
# add total_sample_vol_ul and total_yield_ng
# make sure that the "total_sample_vol_ul" is the ul of sample remaining after Qubit reading
qubitnew$total_sample_vol_ul <- "5"
# make "total_sample_vol_ul" and "Original_sample_conc_ng.ul" into numeric
qubitnew$total_sample_vol_ul <- as.numeric(qubitnew$total_sample_vol_ul)
qubitnew$Original_sample_conc_ng.ul <- as.numeric(qubitnew$Original_sample_conc_ng.ul)
# make "Original_sample_conc_ng.ul" and "total_sample_vol_ul" into objects
x <- qubitnew$Original_sample_conc_ng.ul
y <- qubitnew$total_sample_vol_ul
# make new column called "total_yield_ng" that multiplies "Original_sample_conc_ng.ul" and "total_sample_vol_ul"
qubitnew$total_yield_ng <- x * y
#list column names
colnames(qubitnew)
#call out the columns of interest of qubitnew
qubitnew2 <- subset(qubitnew, select = c(tube_number, Test_Date, Original_sample_conc_ng.ul, total_sample_vol_ul, total_yield_ng, extraction_method, lyophilized_y_n))
View(qubitnew2)
#check subset qubitnew2 file visually before concatenating to qubitresults
?concatenate
mqubit <- rbind(qubitresults,qubitnew2)
View(mqubit)
# read in "sample_table.csv" which is all the hemolymph sampling data and the tube_numbers (including the -1, -2, -3 from Day 26 triplicates). This file has no columns related to Qubit data
mhemo <- read.csv("analyses/sample_table.csv")
# read in the 20180817-Qubit-results.csv from project-crab/data. This file is the combined Qubit results file from all the RNAzol extractions
qubitresults <- read.csv("data/20180817-Qubit-results.csv")
# add columns: "extraction_method" and "lyophilized_y_n"
qubitresults$extraction_method <- "RNAzol"
qubitresults$lyophilized_y_n <- "n"
# fix the qubitresults file so that it only has the columns of interest and add RNAzol extraction method column
qubitresults <- subset(qubitresults, select = c(tube_number, Test_Date, Original_sample_conc_ng.ul, total_sample_vol_ul, total_yield_ng, extraction_method, lyophilized_y_n))
#read in the new qubit csv
qubitnew <- read.csv("data/Qubit_data/QubitData_2018-10-10_18-19-56_UTF8.csv")
# Add in tube numbers to Qubit file in a new column called "tube_number"
qubitnew$tube_number <- c("491-1","452-1","455-1","405-1","430-1","441-1","437-1","418-1","410-1","493-1")
#rename "Original.sample.conc." column name to include units -- "Original_sample_conc_ng.ul" in order to get rid of unit column, as well as to be able to join with hemosample_qubit_table.csv
colnames(qubitnew)[colnames(qubitnew)=="Original.sample.conc."] <- "Original_sample_conc_ng.ul"
#rename "Test.Date" to "Test_Date" so that it joins correctly with hemoqubit
colnames(qubitnew)[colnames(qubitnew)=="Test.Date"] <- "Test_Date"
#before joining with hemo_qubit, add column with contents of extraction type, and whether lyophilized
qubitnew$extraction_method <- "Tri-reagent"
qubitnew$lyophilized_y_n <- "n"
#change "Original_sampel_conc_ng.ul" to character
qubitnew$Original_sample_conc_ng.ul <- as.character(qubitnew$Original_sample_conc_ng.ul)
#replace "Out of range" in "Original_sample_conc_ng.ul" to "0"s
qubitnew[qubitnew$Original_sample_conc_ng.ul == "Out of range",]$Original_sample_conc_ng.ul = 0
# add total_sample_vol_ul and total_yield_ng
# make sure that the "total_sample_vol_ul" is the ul of sample remaining after Qubit reading
qubitnew$total_sample_vol_ul <- "5"
# make "total_sample_vol_ul" and "Original_sample_conc_ng.ul" into numeric
qubitnew$total_sample_vol_ul <- as.numeric(qubitnew$total_sample_vol_ul)
qubitnew$Original_sample_conc_ng.ul <- as.numeric(qubitnew$Original_sample_conc_ng.ul)
# make "Original_sample_conc_ng.ul" and "total_sample_vol_ul" into objects
x <- qubitnew$Original_sample_conc_ng.ul
y <- qubitnew$total_sample_vol_ul
# make new column called "total_yield_ng" that multiplies "Original_sample_conc_ng.ul" and "total_sample_vol_ul"
qubitnew$total_yield_ng <- x * y
#list column names
colnames(qubitnew)
#call out the columns of interest of qubitnew
qubitnew2 <- subset(qubitnew, select = c(tube_number, Test_Date, Original_sample_conc_ng.ul, total_sample_vol_ul, total_yield_ng, extraction_method, lyophilized_y_n))
#check subset qubitnew2 file visually before concatenating to qubitresults
# figure out how to append the qubitnew2 to qubitresults
?append
mhemo2 <- append(mhemo, qubitnew2)
View(mhemo2)
# read .csv the combined qubit file containing all qubit results from RNAzol extractions
RNAzolQubit <- read.csv("data/20180817-Qubit-results.csv")
# read .csv the new qubit file
qubitnew <- read.csv("data/Qubit_data/QubitData_2018-10-10_18-19-56.csv")
sys(iconv -f utf-8 -t utf-8 -c QubitData_2018-10-10_18-19-56.csv, colnames(unique = TRUE)| \
sed 's/ng\/L/ng\/uL/g'
?sys
?system
# read in the UTF version of the new qubit data file
qubitnew <- read.csv("data/Qubit_data/QubitData_2018-10-10_18-19-56_UTF8.csv")
# read .csv the combined qubit file containing all qubit results from RNAzol extractions
RNAzolQubit <- read.csv("data/20180817-Qubit-results.csv")
# read in the UTF version of the new qubit data file
qubitnew <- read.csv("data/Qubit_data/QubitData_2018-10-10_18-19-56_UTF8.csv")
View(qubitnew)
# fix the RNAzolQubit file to contain only pertinent information and re-write.csv
# add columns: "extraction_method" and "lyophilized_y_n"
RNAzolQubit$extraction_method <- "RNAzol"
RNAzolQubit$lyophilized_y_n <- "n"
# fix the qubitresults file so that it only has the columns of interest and add RNAzol extraction method column
RNAzolQubit <- subset(RNAzolQubit, select = c(tube_number, Test_Date, Original_sample_conc_ng.ul, total_sample_vol_ul, total_yield_ng, extraction_method, lyophilized_y_n))
View(RNAzolQubit)
#write.csv to analyses
RNAzolQubit <- write.csv("analyses/RNAzol-Qubit.csv")
#write.csv to analyses
RNAzolQubit <- write.csv(RNAzolQubit, "analyses/RNAzol-Qubit.csv")
# read .csv the RNAzol-Qubit.csv
RzolQubit <- read.csv("analyses/RNAzol-Qubit.csv")
# read .csv the RNAzol-Qubit.csv
RzolQubit <- read.csv("analyses/RNAzol-Qubit.csv", header = TRUE)
#write.csv to analyses
RNAzolQubit <- write.csv(RNAzolQubit, "analyses/RNAzol_Qubit.csv")
# read .csv the combined qubit file containing all qubit results from RNAzol extractions
RNAzolQubit <- read.csv("data/20180817-Qubit-results.csv")
# fix the RNAzolQubit file to contain only pertinent information and re-write.csv
# add columns: "extraction_method" and "lyophilized_y_n"
RNAzolQubit$extraction_method <- "RNAzol"
RNAzolQubit$lyophilized_y_n <- "n"
# fix the qubitresults file so that it only has the columns of interest and add RNAzol extraction method column
RNAzolQubit <- subset(RNAzolQubit, select = c(tube_number, Test_Date, Original_sample_conc_ng.ul, total_sample_vol_ul, total_yield_ng, extraction_method, lyophilized_y_n))
#write.csv to analyses
RNAzolQubit <- write.csv(RNAzolQubit, "analyses/RNAzol_Qubit.csv")
# read .csv the RNAzol-Qubit.csv
RzolQ <- read.csv("analyses/RNAzol_Qubit.csv")
# read .csv the new qubit file
qubitnew <- read.csv("data/Qubit_data/QubitData_2018-10-10_18-19-56.csv")
# read in the UTF version of the new qubit data file
qubitnew <- read.csv("data/Qubit_data/QubitData_2018-10-10_18-19-56_UTF8.csv")
