qubitnew2 <- read.csv("http://owl.fish.washington.edu/scaphapoda/grace/Crab-project/Qubit/QubitData_2018-10-10_18-19-56.csv", header = TRUE)
#Read in new qubit data.
qubitnew <- read.csv("../../../Desktop/QubitData_2018-10-10_18-19-56.csv", header = TRUE, fileEncoding = "latin1")
#before joining with hemo_qubit, add column with contents of extraction type, and whether lyophilized
qubitnew$extraction_method <- "Tri-reagent"
qubitnew$lyophilized_y_n <- "n"
# add total_sample_vol_ul and total_yield_ng
qubitnew$total_sample_vol_ul <- "10"
qubitnew$total_yield_ng <-
#rename "Original.sample.conc." column name to include units -- "Original_sample_conc_ng.ul" in order to get rid of unit columns
colnames(qubitnew)[colnames(qubitnew)=="Original.sample.conc."] <- "Original_sample_conc_ng.ul"
#read in .csv from owl
qubitnew2 <- read.csv("http://owl.fish.washington.edu/scaphapoda/grace/Crab-project/Qubit/QubitData_2018-10-19_13-22-52.csv")
#read in .csv from owl
qubitnew2 <- read.csv("http://owl.fish.washington.edu/scaphapoda/grace/Crab-project/Qubit/QubitData_2018-10-19_13-22-52.csv", make.names(colnames, unique = TRUE))
qubitnew <- read.csv("http://owl.fish.washington.edu/scaphapoda/grace/Crab-project/Qubit/QubitData_2018-10-19_13-22-52.csv", header = TRUE, fileEncoding = "latin1")
?system
#read in .csv from owl
qubitnew2 <- read.csv(url("http://owl.fish.washington.edu/scaphapoda/grace/Crab-project/Qubit/QubitData_2018-10-19_13-22-52.csv"), header = TRUE, fileEncoding = "latin1")
#call out the columns of interest of qubitnew
qubitnew <- select(tube_number, Test_Date, Original_sample_conc_ng.ul, total_sample_vol_ul, total_yield_ng, extraction_method, lyophilized_y_n, qubitnew$total_sample_vol_ul
#left_join with hemo_qubit
hemo_qubit2 <- left_join(hemo_qubit, qubitnew, by = "tube_number")
#read in .csv from owl
qubitnew2 <- read.csv("http://owl.fish.washington.edu/scaphapoda/grace/Crab-project/Qubit/QubitData_2018-10-19_13-22-52.csv"), header = TRUE, fileEncoding = "latin1")
#call out the columns of interest of qubitnew
qubitnew <- select(tube_number, Test_Date, Original_sample_conc_ng.ul, total_sample_vol_ul, total_yield_ng, extraction_method, lyophilized_y_n, qubitnew$total_sample_vol_ul
#left_join with hemo_qubit
hemo_qubit2 <- left_join(hemo_qubit, qubitnew, by = "tube_number")
#read in .csv from owl
qubitnew2 <- read.csv("http://owl.fish.washington.edu/scaphapoda/grace/Crab-project/Qubit/QubitData_2018-10-19_13-22-52.csv") header = TRUE, fileEncoding = "latin1")
#read in .csv from owl
qubitnew2 <- read.csv("http://owl.fish.washington.edu/scaphapoda/grace/Crab-project/Qubit/QubitData_2018-10-19_13-22-52.csv", header = TRUE, fileEncoding = "latin1")
?read.csv
#read in .csv from owl
qubitnew2 <- read.csv("http://owl.fish.washington.edu/scaphapoda/grace/Crab-project/Qubit/QubitData_2018-10-19_13-22-52.csv", header = TRUE, sep = ",", fileEncoding = "latin1")
#read in .csv from owl
qubitnew2 <- read.csv("http://owl.fish.washington.edu/scaphapoda/grace/Crab-project/Qubit/QubitData_2018-10-19_13-22-52.csv", header = TRUE, sep = ",", quote = "",  fileEncoding = "latin1")
iconv -f utf-8 -t utf-8 -c QubitData_2018-10-19_13-22-52.csv | head -n 1
qubitnew2 <- read.csv(http://owl.fish.washington.edu/scaphapoda/grace/Crab-project/Qubit/QubitData_2018-10-19_13-22-52.csv", system("iconv -f utf-8 -t utf-8 -c QubitData_2018-10-19_13-22-52.csv | sed 's/(L)/(uL)/g' | sed 's/ng\/L/ng\/uL/g' > QubitData_2018-10-19_13-22-52_UTF8.csv")
qubitnew2 <- read.csv("http://owl.fish.washington.edu/scaphapoda/grace/Crab-project/Qubit/QubitData_2018-10-19_13-22-52.csv", system("iconv -f utf-8 -t utf-8 -c QubitData_2018-10-19_13-22-52.csv | sed 's/(L)/(uL)/g' | sed 's/ng\/L/ng\/uL/g' > QubitData_2018-10-19_13-22-52_UTF8.csv")
?system
qubitnew2 <- read.csv("http://owl.fish.washington.edu/scaphapoda/grace/Crab-project/Qubit/QubitData_2018-10-19_13-22-52.csv"(system("iconv -f utf-8 -t utf-8 -c QubitData_2018-10-19_13-22-52.csv | sed 's/(L)/(uL)/g' | sed 's/ng\/L/ng\/uL/g' > QubitData_2018-10-19_13-22-52_UTF8.csv")))
?sys.arg()
qubitnew2 <- read.csv("http://owl.fish.washington.edu/scaphapoda/grace/Crab-project/Qubit/QubitData_2018-10-19_13-22-52.csv", system("iconv -f utf-8 -t utf-8 -c QubitData_2018-10-19_13-22-52.csv | sed 's/(L)/(uL)/g' | sed 's/ng\\/L/ng\\/uL/g' > QubitData_2018-10-19_13-22-52_UTF8.csv"))
qubitnew2 <- read.csv("http://owl.fish.washington.edu/scaphapoda/grace/Crab-project/Qubit/QubitData_2018-10-19_13-22-52.csv", (system("iconv -f utf-8 -t utf-8 -c QubitData_2018-10-19_13-22-52.csv | sed 's/(L)/(uL)/g' | sed 's/ng\\/L/ng\\/uL/g' > QubitData_2018-10-19_13-22-52_UTF8.csv")))
qubitnew2 <- (system("iconv -f utf-8 -t utf-8 -c QubitData_2018-10-19_13-22-52.csv | sed 's/(L)/(uL)/g' | sed 's/ng\\/L/ng\\/uL/g' > QubitData_2018-10-19_13-22-52_UTF8.csv"), read.csv("http://owl.fish.washington.edu/scaphapoda/grace/Crab-project/Qubit/QubitData_2018-10-19_13-22-52.csv"))
qubitnew2 <- read.csv("http://owl.fish.washington.edu/scaphapoda/grace/Crab-project/Qubit/QubitData_2018-10-19_13-22-52.csv", system("iconv -f utf-8 -t utf-8 -c QubitData_2018-10-19_13-22-52.csv | sed 's/(L)/(uL)/g' | sed 's/ng\\/L/ng\\/uL/g' > QubitData_2018-10-19_13-22-52_UTF8.csv"))
View(qubitnew2)
#Read in new qubit data. NEED TO MAKE THIS COME FROM OWL - NOT MY DESKTOP
qubitnew <- read.csv("http://owl.fish.washington.edu/scaphapoda/grace/Crab-project/Qubit/QubitData_2018-10-19_13-22-52.csv", system("iconv -f utf-8 -t utf-8 -c QubitData_2018-10-19_13-22-52.csv | sed 's/(L)/(uL)/g' | sed 's/ng\\/L/ng\\/uL/g' > QubitData_2018-10-19_13-22-52_UTF8.csv"))
View(qubitnew)
#Read in new qubit data. NEED TO MAKE THIS COME FROM OWL - NOT MY DESKTOP
qubitnew <- read.csv("http://owl.fish.washington.edu/scaphapoda/grace/Crab-project/Qubit/QubitData_2018-10-19_13-22-52.csv", system("iconv -f utf-8 -t utf-8 -c QubitData_2018-10-19_13-22-52.csv | sed 's/(L)/(uL)/g' | sed 's/ng\\/L/ng\\/uL/g' > QubitData_2018-10-19_13-22-52_UTF8.csv"))
#before joining with hemo_qubit, add column with contents of extraction type, and whether lyophilized
qubitnew$extraction_method <- "Tri-reagent"
qubitnew$lyophilized_y_n <- "n"
# add total_sample_vol_ul and total_yield_ng
qubitnew$total_sample_vol_ul <- "10"
#rename "Original.sample.conc." column name to include units -- "Original_sample_conc_ng.ul" in order to get rid of unit columns
colnames(qubitnew)[colnames(qubitnew)=="Original.sample.conc."] <- "Original_sample_conc_ng.ul"
# 2018-10-22
#read in hemosample_qubit_table.csv. This .csv is all the hemolymph sampling data, as well as the Qubit data up until now.
hemo_qubit <- read.csv("analyses/hemosample_qubit_table.csv")
View(qubitnew)
View(hemo_qubit)
#rename "Original.sample.conc." column name to include units -- "Original_sample_conc_ng.ul" in order to get rid of unit columns
colnames(qubitnew)[colnames(qubitnew)=="Original.sample.conc."] <- "Original_sample_conc_ng.ul"
View(qubitnew)
#rename "Original.sample.conc." column name to include units -- "Original_sample_conc_ng.ul" in order to get rid of unit columns
colnames(qubitnew)[colnames(qubitnew)=="Original.sample.conc."] <- "Original_sample_conc_ng.ul"
View(qubitnew)
#upload new qubit data to OWL
#download qubit data from OWL
download.file("http://owl.fish.washington.edu/scaphapoda/grace/Crab-project/Qubit/QubitData_2018-10-19_13-22-52.csv")
#upload new qubit data to OWL
#download qubit data from OWL
qubitnew <- download.file("http://owl.fish.washington.edu/scaphapoda/grace/Crab-project/Qubit/QubitData_2018-10-19_13-22-52.csv")
?download.file
#upload new qubit data to OWL
#download qubit data from OWL
download.file("http://owl.fish.washington.edu/scaphapoda/grace/Crab-project/Qubit/QubitData_2018-10-19_13-22-52.csv")
#upload new qubit data to OWL
#download qubit data from OWL, and save to your local computer
download.file("http://owl.fish.washington.edu/scaphapoda/grace/Crab-project/Qubit/QubitData_2018-10-19_13-22-52.csv", destfile = "../../../Documents/")
#download qubit data from GitHub, and read in to R
qubitnew <- read_csv("https://raw.githubusercontent.com/RobertsLab/project-crab/master/data/Qubit_data/QubitData_2018-10-10_18-19-56.csv", header = TRUE, fileEncoding = "latin1")
#download qubit data from GitHub, and read in to R
qubitnew <- read_csv("https://raw.githubusercontent.com/RobertsLab/project-crab/master/data/Qubit_data/QubitData_2018-10-10_18-19-56.csv")
library(tidyverse)
#download qubit data from GitHub, and read in to R
qubitnew <- read_csv("https://raw.githubusercontent.com/RobertsLab/project-crab/master/data/Qubit_data/QubitData_2018-10-10_18-19-56.csv", header = TRUE, fileEncoding = "latin1")
#download qubit data from GitHub, and read in to R
qubitnew <- read_csv("https://raw.githubusercontent.com/RobertsLab/project-crab/master/data/Qubit_data/QubitData_2018-10-10_18-19-56.csv")
#download qubit data from GitHub, and read in to R
qubitnew <- read_csv("https://raw.githubusercontent.com/RobertsLab/project-crab/master/data/Qubit_data/QubitData_2018-10-10_18-19-56.csv", iconv file.pcl -f UTF-8 -t ISO-8859-1 -c)
#download qubit data from GitHub, and read in to R
qubitnew <- read_csv("https://raw.githubusercontent.com/RobertsLab/project-crab/master/data/Qubit_data/QubitData_2018-10-10_18-19-56.csv",  system("iconv -f utf-8 -t utf-8 -c QubitData_2018-10-19_13-22-52.csv | sed 's/(L)/(uL)/g' | sed 's/ng\\/L/ng\\/uL/g' > QubitData_2018-10-19_13-22-52_UTF8.csv"))
#download qubit data from GitHub, and read in to R
qubitnew <- read_csv("https://raw.githubusercontent.com/RobertsLab/project-crab/master/data/Qubit_data/QubitData_2018-10-10_18-19-56.csv")
#download qubit data from GitHub, and read in to R
qubitnew <- read.csv("https://raw.githubusercontent.com/RobertsLab/project-crab/master/data/Qubit_data/QubitData_2018-10-10_18-19-56.csv")
#download qubit data from GitHub, and read in to R
qubitnew <- read.csv("https://raw.githubusercontent.com/RobertsLab/project-crab/master/data/Qubit_data/QubitData_2018-10-10_18-19-56.csv", make.names(col.names, unique = TRUE))
#read in the new qubit csv
qubitnew <- read.csv("data/Qubit_data/QubitData_2018-10-10_18-19-56_UTF8.csv")
View(qubitnew)
# 2018-10-23
#read in hemosample_qubit_table.csv. This .csv is all the hemolymph sampling data, as well as the Qubit data up until now.
hemo_qubit <- read.csv("analyses/hemosample_qubit_table.csv")
# Add in tube numbers to Qubit file in a new column called "tube_numbers"
qubitnew$tube_numbers <- c("491-1","452-1","455-1","405-1","430-1","441-1","437-1","418-1","410-1","493-1")
#rename "Original.sample.conc." column name to include units -- "Original_sample_conc_ng.ul" in order to get rid of unit columns
colnames(qubitnew)[colnames(qubitnew)=="Original.sample.conc."] <- "Original_sample_conc_ng.ul"
#before joining with hemo_qubit, add column with contents of extraction type, and whether lyophilized
qubitnew$extraction_method <- "Tri-reagent"
qubitnew$lyophilized_y_n <- "n"
# add total_sample_vol_ul and total_yield_ng
qubitnew$total_sample_vol_ul <- "10"
qubitnew$total_yield_ng <- with(qubitnew, ifelse(qubitnew$Original_sample_conc_ng.ul*qubitnew$total_sample_vol_ul))
qubitnew$Original_sample_conc_ng.ul <- as.numeric(qubitnew$Original_sample_conc_ng.ul)
qubitnew$total_sample_vol_ul <- as.numeric(qubitnew$total_sample_vol_ul)
qubitnew$total_yield_ng <- with(qubitnew, ifelse(qubitnew$Original_sample_conc_ng.ul*qubitnew$total_sample_vol_ul))
qubitnew$total_yield_ng <- with((qubitnew$Original_sample_conc_ng.ul*qubitnew$total_sample_vol_ul))
qubitnew$total_yield_ng <- with(qubitnew, qubitnew$Original_sample_conc_ng.ul * qubitnew$total_sample_vol_ul)
# 2018-10-23
#read in hemosample_qubit_table.csv. This .csv is all the hemolymph sampling data, as well as the Qubit data up until now.
hemo_qubit <- read.csv("analyses/hemosample_qubit_table.csv")
#read in the new qubit csv
qubitnew <- read.csv("data/Qubit_data/QubitData_2018-10-10_18-19-56_UTF8.csv")
View(qubitnew)
# Add in tube numbers to Qubit file in a new column called "tube_numbers"
qubitnew$tube_numbers <- c("491-1","452-1","455-1","405-1","430-1","441-1","437-1","418-1","410-1","493-1")
#rename "Original.sample.conc." column name to include units -- "Original_sample_conc_ng.ul" in order to get rid of unit column, as well as to be able to join with hemosample_qubit_table.csv
colnames(qubitnew)[colnames(qubitnew)=="Original.sample.conc."] <- "Original_sample_conc_ng.ul"
#before joining with hemo_qubit, add column with contents of extraction type, and whether lyophilized
qubitnew$extraction_method <- "Tri-reagent"
qubitnew$lyophilized_y_n <- "n"
# add total_sample_vol_ul and total_yield_ng
qubitnew$total_sample_vol_ul <- "10"
qubitnew$total_yield_ng <- with(qubitnew, qubitnew$Original_sample_conc_ng.ul * qubitnew$total_sample_vol_ul)
qubitnew$Original_sample_conc_ng.ul <- as.numeric(qubitnew$Original_sample_conc_ng.ul)
qubitnew$total_sample_vol_ul <- as.numeric(qubitnew$total_sample_vol_ul)
#read in the new qubit csv
qubitnew <- read.csv("data/Qubit_data/QubitData_2018-10-10_18-19-56_UTF8.csv")
# Add in tube numbers to Qubit file in a new column called "tube_numbers"
qubitnew$tube_numbers <- c("491-1","452-1","455-1","405-1","430-1","441-1","437-1","418-1","410-1","493-1")
#rename "Original.sample.conc." column name to include units -- "Original_sample_conc_ng.ul" in order to get rid of unit column, as well as to be able to join with hemosample_qubit_table.csv
colnames(qubitnew)[colnames(qubitnew)=="Original.sample.conc."] <- "Original_sample_conc_ng.ul"
#before joining with hemo_qubit, add column with contents of extraction type, and whether lyophilized
qubitnew$extraction_method <- "Tri-reagent"
qubitnew$lyophilized_y_n <- "n"
# add total_sample_vol_ul and total_yield_ng
qubitnew$total_sample_vol_ul <- "10"
qubitnew$Original_sample_conc_ng.ul <- as.character(qubitnew$Original_sample_conc_ng.ul)
qubitnew$total_sample_vol_ul <- as.character(qubitnew$total_sample_vol_ul)
qubitnew$total_yield_ng <- with(qubitnew, qubitnew$Original_sample_conc_ng.ul * qubitnew$total_sample_vol_ul)
qubitnew$total_yield_ng <- with(qubitnew, "qubitnew$Original_sample_conc_ng.ul" * "qubitnew$total_sample_vol_ul")
func <- function(qubitnew$Original_sample_conc_ng.ul * qubitnew$total_sample_vol_ul)
library(dplyr)
qubitnew <- qubitnew %>%
mutate(total_yield_ng = qubitnew$Original_sample_conc_ng.ul*qubitnew$total_sample_vol_ul)
View(qubitnew)
qubitnew$total_yield_ng <- qubitnew %>%
mutate(total_yield_ng = qubitnew$Original_sample_conc_ng.ul*qubitnew$total_sample_vol_ul)
qubitnew <- qubitnew %>%
mutate(total_yield_ng = qubitnew$Original_sample_conc_ng.ul*qubitnew$total_sample_vol_ul)
qubitnew$Original_sample_conc_ng.ul <- as.character(qubitnew$Original_sample_conc_ng.ul)
qubitnew$total_sample_vol_ul <- as.character(qubitnew$total_sample_vol_ul)
qubitnew <- qubitnew %>%
mutate(total_yield_ng = qubitnew$Original_sample_conc_ng.ul*qubitnew$total_sample_vol_ul)
qubitnew$total_yield_ng <- within(qubitnew, qubitnew$Original_sample_conc_ng.ul * qubitnew$total_sample_vol_ul)
qubitnew$total_yield_ng <- with(qubitnew, qubitnew$Original_sample_conc_ng.ul * qubitnew$total_sample_vol_ul)
qubitnew$Original_sample_conc_ng.ul <- as.character(qubitnew$Original_sample_conc_ng.ul)
qubitnew$total_sample_vol_ul <- as.character(qubitnew$total_sample_vol_ul)
qubitnew$total_yield_ng <- with(qubitnew, qubitnew$Original_sample_conc_ng.ul * qubitnew$total_sample_vol_ul)
qubitnew$total_yield_ng <- with(qubitnew, "Original_sample_con_ng.ul" * "total_sample_vol_ul")
qubitnew$total_yield_ng <- with(qubitnew, "Original_sample_conc_ng.ul" * "total_sample_vol_ul")
#replace "Out of range" in "Original_sample_conc_ng.ul" to "0"s
qubitnew$Original_sample_conc_ng.ul[qubitnew$Original_sample_conc_ng.ul == Out of range] <- 0
#replace "Out of range" in "Original_sample_conc_ng.ul" to "0"s
qubitnew[qubitnew$Original_sample_conc_ng.ul == "Out of range",]$Original_sample_conc_ng.ul = 0
qubitnew$total_yield_ng <- with(qubitnew, "Original_sample_conc_ng.ul" * "total_sample_vol_ul")
qubitnew$total_yield_ng <- eval(parse(text = "Original_sample_conc_ng.ul * total_sample_vol_ul")), qubitnew)
qubitnew$total_yield_ng <- eval(parse(text = "Original_sample_conc_ng.ul * total_sample_vol_ul")) qubitnew)
qubitnew$total_yield_ng <- with(qubitnew, Original_sample_conc_ng.ul*total_sample_vol_ul)
qubitnew$total_yield_ng <- (qubitnew$Original_sample_conc_ng.ul * qubitnew$total_sample_vol_ul)
#list column names
colnames(qubitnew)
# add total_sample_vol_ul and total_yield_ng
qubitnew$total_sample_vol_ul <- "5"
# add total_sample_vol_ul and total_yield_ng
# make sure that hte "total_sample_vol_ul" is the ul of sample remaining after Qubit reading
qubitnew$total_sample_vol_ul <- "5"
qubitnew$total_yield_ng <- (qubitnew$Original_sample_conc_ng.ul * qubitnew$total_sample_vol_ul)
qubitnew$total_yield_ng <- ("Original_sample_conc_ng.ul" * "total_sample_vol_ul")
qubitnew$total_yield_ng <- (Original_sample_conc_ng.ul * total_sample_vol_ul)
#read in hemosample_qubit_table.csv. This .csv is all the hemolymph sampling data, as well as the Qubit data up until now.
hemo_qubit <- read.csv("analyses/hemosample_qubit_table.csv")
View(hemo_qubit)
qubitnew <- qubitnew %>%
mutate(total_yield_ng = Original_sample_conc_ng.ul*total_sample_vol_ul)
qubitnew <- within(qubitnew, total_yield_ng = Original_sample_conc_ng.ul * total_sample_vol_ul)
qubitnew <- within(qubitnew, total_yield_ng <-- Original_sample_conc_ng.ul * total_sample_vol_ul)
qubitnew <- within(qubitnew, total_yield_ng <-- qubitnew$Original_sample_conc_ng.ul * qubitnew$total_sample_vol_ul)
qubitnew <- within(qubitnew, total_yield_ng <- qubitnew$Original_sample_conc_ng.ul * qubitnew$total_sample_vol_ul)
qubitnew <- transform(qubitnew, total_yield_ng = Original_sample_conc_ng.ul * total_sample_vol_ul)
qubitnew$total_yield_ng <- qubitnew$Original_sample_conc_ng.ul * qubitnew$total_sample_vol_ul
library(dplyr)
qubitnew <- qubitnew %>%
mutate(total_yield_ng = Original_sample_conc_ng.ul * total_sample_vol_ul)
qubitnew$total_yield_ng <- product( qubitnew$Original_sample_conc_ng.ul, qubitnew$total_sample_vol_ul)
qubitnew$total_yield_ng <- multiply( qubitnew$Original_sample_conc_ng.ul, qubitnew$total_sample_vol_ul)
qubitnew$total_yield_ng <-
m = as.matrix(qubitnew)
m = as.matrix(qubitnew)
m [Original_sample_conc_ng.ul] * m [total_sample_vol_ul]
qubitnew$total_yield_ng <- [Original_sample_conc_ng.ul] * [total_sample_vol_ul]
qubitnew$total_yield_ng <- Original_sample_conc_ng.ul * total_sample_vol_ul
# make "Original_sample_conc_ng.ul" and "total_sample_vol_ul" into objects
sampleconc <- qubitnew$Original_sample_conc_ng.ul
samplevol <- qubitnew$total_sample_vol_ul
qubitnew$total_yield_ng <- Original_sample_conc_ng.ul * total_sample_vol_ul
qubitnew$total_yield_ng <- sampleconc * samplevol
# make "Original_sample_conc_ng.ul" and "total_sample_vol_ul" into objects
x <- qubitnew$Original_sample_conc_ng.ul
y <- qubitnew$total_sample_vol_ul
qubitnew$total_yield_ng <- x * y
qubitnew$total_sample_vol_ul <- as.numeric(qubitnew$total_sample_vol_ul)
qubitnew$Original_sample_conc_ng.ul <- as.numeric(qubitnew$Original_sample_conc_ng.ul)
# make "Original_sample_conc_ng.ul" and "total_sample_vol_ul" into objects
x <- qubitnew$Original_sample_conc_ng.ul
y <- qubitnew$total_sample_vol_ul
qubitnew$total_yield_ng <- x * y
#call out the columns of interest of qubitnew
qubitnew <- select(tube_number, Test_Date, Original_sample_conc_ng.ul, total_sample_vol_ul, total_yield_ng, extraction_method, lyophilized_y_n)
# Add in tube numbers to Qubit file in a new column called "tube_number"
qubitnew$tube_number <- c("491-1","452-1","455-1","405-1","430-1","441-1","437-1","418-1","410-1","493-1")
#call out the columns of interest of qubitnew
qubitnew <- select(tube_number, Test_Date, Original_sample_conc_ng.ul, total_sample_vol_ul, total_yield_ng, extraction_method, lyophilized_y_n)
#call out the columns of interest of qubitnew
qubitnew <- select(tube_number, Test_Date, Original_sample_conc_ng.ul, total_sample_vol_ul, total_yield_ng, extraction_method, lyophilized_y_n)
#call out the columns of interest of qubitnew
qubitnew <- select(tube_number, Test_Date, Original_sample_conc_ng.ul, total_sample_vol_ul, total_yield_ng, extraction_method, lyophilized_y_n)
qubitnew2 <- subset(qubitnew, select = c(tube_number, Test_Date, Original_sample_conc_ng.ul, total_sample_vol_ul, total_yield_ng, extraction_method, lyophilized_y_n))
#rename "Test.Date" to "Test_Date" so that it joins correctly with hemoqubit
colnames(qubitnew)[colnames(qubitnew)=="Test.Date"] <- "Test_Date"
qubitnew2 <- subset(qubitnew, select = c(tube_number, Test_Date, Original_sample_conc_ng.ul, total_sample_vol_ul, total_yield_ng, extraction_method, lyophilized_y_n))
View(qubitnew2)
hemo_table <- read.csv("data/20180522-all-crabs-hemo.csv")
View(hemo_table)
hemo_table <-
mutate(hemo_table, trtmnt_tank = ifelse(treatment_tank == 1 | treatment_tank == 2 | treatment_tank == 3, "cold", ifelse(treatment_tank == 4 | treatment_tank == 5 | treatment_tank == 6, "warm", "ambient"))) %>%
select(FRP, Uniq_ID, trtmnt_tank, sample_day, infection_status, maturity, tube_number) %>%
arrange(Uniq_ID)
# Cleaning up qubit file
qubit <- read.csv("data/20180817-Qubit-results.csv") %>%
select(tube_number, Test_Date, Original_sample_conc_ng.ul, total_sample_vol_ul, total_yield_ng)
qubit$extraciton_method <- "RNAzol"
View(qubit)
qubit$lyophilized_y_n <- "n"
sample_table <- read.csv("analyses/sample_table.csv")
View(sample_table)
sample_qubit <- left_join(sample_table, qubit, by = "tube_number")
write.csv(sample_qubit, "analyses/hemosample_qubit_table.csv")
#read in hemosample_qubit_table.csv. This .csv is all the hemolymph sampling data, as well as the Qubit data up until now.
hemo_qubit <- read.csv("analyses/hemosample_qubit_table.csv")
#read in hemosample_qubit_table.csv. This .csv is all the hemolymph sampling data, as well as the Qubit data up until now.
hemo_qubit <- read.csv("analyses/hemosample_qubit_table.csv")
#read in the new qubit csv
qubitnew <- read.csv("data/Qubit_data/QubitData_2018-10-10_18-19-56_UTF8.csv")
# Add in tube numbers to Qubit file in a new column called "tube_number"
qubitnew$tube_number <- c("491-1","452-1","455-1","405-1","430-1","441-1","437-1","418-1","410-1","493-1")
#rename "Original.sample.conc." column name to include units -- "Original_sample_conc_ng.ul" in order to get rid of unit column, as well as to be able to join with hemosample_qubit_table.csv
colnames(qubitnew)[colnames(qubitnew)=="Original.sample.conc."] <- "Original_sample_conc_ng.ul"
#rename "Test.Date" to "Test_Date" so that it joins correctly with hemoqubit
colnames(qubitnew)[colnames(qubitnew)=="Test.Date"] <- "Test_Date"
#before joining with hemo_qubit, add column with contents of extraction type, and whether lyophilized
qubitnew$extraction_method <- "Tri-reagent"
qubitnew$lyophilized_y_n <- "n"
#replace "Out of range" in "Original_sample_conc_ng.ul" to "0"s
qubitnew[qubitnew$Original_sample_conc_ng.ul == "Out of range",]$Original_sample_conc_ng.ul = 0
# add total_sample_vol_ul and total_yield_ng
# make sure that the "total_sample_vol_ul" is the ul of sample remaining after Qubit reading
qubitnew$total_sample_vol_ul <- "5"
# make "total_sample_vol_ul" and "Original_sample_conc_ng.ul" into numeric
qubitnew$total_sample_vol_ul <- as.numeric(qubitnew$total_sample_vol_ul)
qubitnew$Original_sample_conc_ng.ul <- as.numeric(qubitnew$Original_sample_conc_ng.ul)
View(qubitnew)
#replace "Out of range" in "Original_sample_conc_ng.ul" to "0"s
qubitnew[qubitnew$Original_sample_conc_ng.ul == "Out of range",]$Original_sample_conc_ng.ul = 0
#read in hemosample_qubit_table.csv. This .csv is all the hemolymph sampling data, as well as the Qubit data up until now.
hemo_qubit <- read.csv("analyses/hemosample_qubit_table.csv")
#read in the new qubit csv
qubitnew <- read.csv("data/Qubit_data/QubitData_2018-10-10_18-19-56_UTF8.csv")
View(qubitnew)
# Add in tube numbers to Qubit file in a new column called "tube_number"
qubitnew$tube_number <- c("491-1","452-1","455-1","405-1","430-1","441-1","437-1","418-1","410-1","493-1")
#rename "Original.sample.conc." column name to include units -- "Original_sample_conc_ng.ul" in order to get rid of unit column, as well as to be able to join with hemosample_qubit_table.csv
colnames(qubitnew)[colnames(qubitnew)=="Original.sample.conc."] <- "Original_sample_conc_ng.ul"
#rename "Test.Date" to "Test_Date" so that it joins correctly with hemoqubit
colnames(qubitnew)[colnames(qubitnew)=="Test.Date"] <- "Test_Date"
#before joining with hemo_qubit, add column with contents of extraction type, and whether lyophilized
qubitnew$extraction_method <- "Tri-reagent"
qubitnew$lyophilized_y_n <- "n"
#replace "Out of range" in "Original_sample_conc_ng.ul" to "0"s
qubitnew[qubitnew$Original_sample_conc_ng.ul == "Out of range",]$Original_sample_conc_ng.ul = 0
#replace "Out of range" in "Original_sample_conc_ng.ul" to "0"s
qubitnew[qubitnew$Original_sample_conc_ng.ul == "Out of range",]$Original_sample_conc_ng.ul = "0"
#replace "Out of range" in "Original_sample_conc_ng.ul" to "0"s
qubitnew[qubitnew$Original_sample_conc_ng.ul == "Out of range",]$Original_sample_conc_ng.ul = 0
#read in the new qubit csv
qubitnew <- read.csv("data/Qubit_data/QubitData_2018-10-10_18-19-56_UTF8.csv")
# Add in tube numbers to Qubit file in a new column called "tube_number"
qubitnew$tube_number <- c("491-1","452-1","455-1","405-1","430-1","441-1","437-1","418-1","410-1","493-1")
#rename "Original.sample.conc." column name to include units -- "Original_sample_conc_ng.ul" in order to get rid of unit column, as well as to be able to join with hemosample_qubit_table.csv
colnames(qubitnew)[colnames(qubitnew)=="Original.sample.conc."] <- "Original_sample_conc_ng.ul"
#rename "Test.Date" to "Test_Date" so that it joins correctly with hemoqubit
colnames(qubitnew)[colnames(qubitnew)=="Test.Date"] <- "Test_Date"
#before joining with hemo_qubit, add column with contents of extraction type, and whether lyophilized
qubitnew$extraction_method <- "Tri-reagent"
qubitnew$lyophilized_y_n <- "n"
View(qubitnew)
# add total_sample_vol_ul and total_yield_ng
# make sure that the "total_sample_vol_ul" is the ul of sample remaining after Qubit reading
qubitnew$total_sample_vol_ul <- "5"
#replace "Out of range" in "Original_sample_conc_ng.ul" to "0"s
qubitnew[qubitnew$Original_sample_conc_ng.ul == "Out of range",]$Original_sample_conc_ng.ul = 0
#read in the new qubit csv
qubitnew <- read.csv("data/Qubit_data/QubitData_2018-10-10_18-19-56_UTF8.csv")
# Add in tube numbers to Qubit file in a new column called "tube_number"
qubitnew$tube_number <- c("491-1","452-1","455-1","405-1","430-1","441-1","437-1","418-1","410-1","493-1")
#rename "Original.sample.conc." column name to include units -- "Original_sample_conc_ng.ul" in order to get rid of unit column, as well as to be able to join with hemosample_qubit_table.csv
colnames(qubitnew)[colnames(qubitnew)=="Original.sample.conc."] <- "Original_sample_conc_ng.ul"
#rename "Test.Date" to "Test_Date" so that it joins correctly with hemoqubit
colnames(qubitnew)[colnames(qubitnew)=="Test.Date"] <- "Test_Date"
#before joining with hemo_qubit, add column with contents of extraction type, and whether lyophilized
qubitnew$extraction_method <- "Tri-reagent"
qubitnew$lyophilized_y_n <- "n"
qubitnew$Original_sample_conc_ng.ul[qubitnew$Original_sample_conc_ng.ul == "Out of range"] <- 0
#read in the new qubit csv
qubitnew <- read.csv("data/Qubit_data/QubitData_2018-10-10_18-19-56_UTF8.csv")
# Add in tube numbers to Qubit file in a new column called "tube_number"
qubitnew$tube_number <- c("491-1","452-1","455-1","405-1","430-1","441-1","437-1","418-1","410-1","493-1")
#rename "Original.sample.conc." column name to include units -- "Original_sample_conc_ng.ul" in order to get rid of unit column, as well as to be able to join with hemosample_qubit_table.csv
colnames(qubitnew)[colnames(qubitnew)=="Original.sample.conc."] <- "Original_sample_conc_ng.ul"
#rename "Test.Date" to "Test_Date" so that it joins correctly with hemoqubit
colnames(qubitnew)[colnames(qubitnew)=="Test.Date"] <- "Test_Date"
#before joining with hemo_qubit, add column with contents of extraction type, and whether lyophilized
qubitnew$extraction_method <- "Tri-reagent"
qubitnew$lyophilized_y_n <- "n"
#change "Original_sampel_conc_ng.ul" to character
qubitnew$Original_sample_conc_ng.ul <- as.character(qubitnew$Original_sample_conc_ng.ul)
#replace "Out of range" in "Original_sample_conc_ng.ul" to "0"s
qubitnew[qubitnew$Original_sample_conc_ng.ul == "Out of range",]$Original_sample_conc_ng.ul = 0
# add total_sample_vol_ul and total_yield_ng
# make sure that the "total_sample_vol_ul" is the ul of sample remaining after Qubit reading
qubitnew$total_sample_vol_ul <- "5"
# make "total_sample_vol_ul" and "Original_sample_conc_ng.ul" into numeric
qubitnew$total_sample_vol_ul <- as.numeric(qubitnew$total_sample_vol_ul)
qubitnew$Original_sample_conc_ng.ul <- as.numeric(qubitnew$Original_sample_conc_ng.ul)
# make "Original_sample_conc_ng.ul" and "total_sample_vol_ul" into objects
x <- qubitnew$Original_sample_conc_ng.ul
y <- qubitnew$total_sample_vol_ul
# make new column called "total_yield_ng" that multiplies "Original_sample_conc_ng.ul" and "total_sample_vol_ul"
qubitnew$total_yield_ng <- x * y
#list column names
colnames(qubitnew)
#call out the columns of interest of qubitnew
qubitnew2 <- subset(qubitnew, select = c(tube_number, Test_Date, Original_sample_conc_ng.ul, total_sample_vol_ul, total_yield_ng, extraction_method, lyophilized_y_n))
View(qubitnew2)
#left_join with hemo_qubit
hemo_qubit2 <- left_join(hemo_qubit, qubitnew2, by = "tube_number")
#read in hemosample_qubit_table.csv. This .csv is all the hemolymph sampling data, as well as the Qubit data up until now.
hemo_qubit <- read.csv("analyses/hemosample_qubit_table.csv")
#left_join with hemo_qubit
hemo_qubit2 <- left_join(hemo_qubit, qubitnew2, by = "tube_number")
View(hemo_qubit2)
#read in hemosample_qubit_table.csv. This .csv is all the hemolymph sampling data, as well as the Qubit data up until now.
hemo_qubit <- read.csv("analyses/hemosample_qubit_table.csv")
#read in the new qubit csv
qubitnew <- read.csv("data/Qubit_data/QubitData_2018-10-10_18-19-56_UTF8.csv")
# Add in tube numbers to Qubit file in a new column called "tube_number"
qubitnew$tube_number <- c("491-1","452-1","455-1","405-1","430-1","441-1","437-1","418-1","410-1","493-1")
qubitnew$tube_number <- as.factor(qubitnew$tube_number)
#rename "Original.sample.conc." column name to include units -- "Original_sample_conc_ng.ul" in order to get rid of unit column, as well as to be able to join with hemosample_qubit_table.csv
colnames(qubitnew)[colnames(qubitnew)=="Original.sample.conc."] <- "Original_sample_conc_ng.ul"
#rename "Test.Date" to "Test_Date" so that it joins correctly with hemoqubit
colnames(qubitnew)[colnames(qubitnew)=="Test.Date"] <- "Test_Date"
#before joining with hemo_qubit, add column with contents of extraction type, and whether lyophilized
qubitnew$extraction_method <- "Tri-reagent"
qubitnew$lyophilized_y_n <- "n"
#change "Original_sampel_conc_ng.ul" to character
qubitnew$Original_sample_conc_ng.ul <- as.character(qubitnew$Original_sample_conc_ng.ul)
#replace "Out of range" in "Original_sample_conc_ng.ul" to "0"s
qubitnew[qubitnew$Original_sample_conc_ng.ul == "Out of range",]$Original_sample_conc_ng.ul = 0
# add total_sample_vol_ul and total_yield_ng
# make sure that the "total_sample_vol_ul" is the ul of sample remaining after Qubit reading
qubitnew$total_sample_vol_ul <- "5"
# make "total_sample_vol_ul" and "Original_sample_conc_ng.ul" into numeric
qubitnew$total_sample_vol_ul <- as.numeric(qubitnew$total_sample_vol_ul)
qubitnew$Original_sample_conc_ng.ul <- as.numeric(qubitnew$Original_sample_conc_ng.ul)
# make "Original_sample_conc_ng.ul" and "total_sample_vol_ul" into objects
x <- qubitnew$Original_sample_conc_ng.ul
y <- qubitnew$total_sample_vol_ul
# make new column called "total_yield_ng" that multiplies "Original_sample_conc_ng.ul" and "total_sample_vol_ul"
qubitnew$total_yield_ng <- x * y
View(qubitnew)
#call out the columns of interest of qubitnew
qubitnew2 <- subset(qubitnew, select = c(tube_number, Test_Date, Original_sample_conc_ng.ul, total_sample_vol_ul, total_yield_ng, extraction_method, lyophilized_y_n))
#left_join with hemo_qubit
hemo_qubit2 <- left_join(hemo_qubit, qubitnew2, by = "tube_number")
#read in hemosample_qubit_table.csv. This .csv is all the hemolymph sampling data, as well as the Qubit data up until now.
hemo_qubit <- read.csv("analyses/hemosample_qubit_table.csv")
#read in the new qubit csv
qubitnew <- read.csv("data/Qubit_data/QubitData_2018-10-10_18-19-56_UTF8.csv")
# Add in tube numbers to Qubit file in a new column called "tube_number"
qubitnew$tube_number <- c("491-1","452-1","455-1","405-1","430-1","441-1","437-1","418-1","410-1","493-1")
qubitnew$tube_number <- as.character(qubitnew$tube_number)
#rename "Original.sample.conc." column name to include units -- "Original_sample_conc_ng.ul" in order to get rid of unit column, as well as to be able to join with hemosample_qubit_table.csv
colnames(qubitnew)[colnames(qubitnew)=="Original.sample.conc."] <- "Original_sample_conc_ng.ul"
#read in hemosample_qubit_table.csv. This .csv is all the hemolymph sampling data, as well as the Qubit data up until now.
hemo_qubit <- read.csv("analyses/hemosample_qubit_table.csv")
#read in the new qubit csv
qubitnew <- read.csv("data/Qubit_data/QubitData_2018-10-10_18-19-56_UTF8.csv")
# Add in tube numbers to Qubit file in a new column called "tube_number"
qubitnew$tube_number <- c("491-1","452-1","455-1","405-1","430-1","441-1","437-1","418-1","410-1","493-1")
#rename "Original.sample.conc." column name to include units -- "Original_sample_conc_ng.ul" in order to get rid of unit column, as well as to be able to join with hemosample_qubit_table.csv
colnames(qubitnew)[colnames(qubitnew)=="Original.sample.conc."] <- "Original_sample_conc_ng.ul"
#rename "Test.Date" to "Test_Date" so that it joins correctly with hemoqubit
colnames(qubitnew)[colnames(qubitnew)=="Test.Date"] <- "Test_Date"
#before joining with hemo_qubit, add column with contents of extraction type, and whether lyophilized
qubitnew$extraction_method <- "Tri-reagent"
qubitnew$lyophilized_y_n <- "n"
#change "Original_sampel_conc_ng.ul" to character
qubitnew$Original_sample_conc_ng.ul <- as.character(qubitnew$Original_sample_conc_ng.ul)
#replace "Out of range" in "Original_sample_conc_ng.ul" to "0"s
qubitnew[qubitnew$Original_sample_conc_ng.ul == "Out of range",]$Original_sample_conc_ng.ul = 0
# add total_sample_vol_ul and total_yield_ng
# make sure that the "total_sample_vol_ul" is the ul of sample remaining after Qubit reading
qubitnew$total_sample_vol_ul <- "5"
# make "total_sample_vol_ul" and "Original_sample_conc_ng.ul" into numeric
qubitnew$total_sample_vol_ul <- as.numeric(qubitnew$total_sample_vol_ul)
qubitnew$Original_sample_conc_ng.ul <- as.numeric(qubitnew$Original_sample_conc_ng.ul)
# make "Original_sample_conc_ng.ul" and "total_sample_vol_ul" into objects
x <- qubitnew$Original_sample_conc_ng.ul
y <- qubitnew$total_sample_vol_ul
# make new column called "total_yield_ng" that multiplies "Original_sample_conc_ng.ul" and "total_sample_vol_ul"
qubitnew$total_yield_ng <- x * y
#call out the columns of interest of qubitnew
qubitnew2 <- subset(qubitnew, select = c(tube_number, Test_Date, Original_sample_conc_ng.ul, total_sample_vol_ul, total_yield_ng, extraction_method, lyophilized_y_n))
hemo_qubit$tube_number <- as.character(hemo_qubit$tube_number)
#left_join with hemo_qubit
hemo_qubit2 <- left_join(hemo_qubit, qubitnew2, by = "tube_number")
View(hemo_qubit2)
#read in hemosample_qubit_table.csv. This .csv is all the hemolymph sampling data, as well as the Qubit data up until now.
hemo_qubit <- read.csv("analyses/hemosample_qubit_table.csv")
#read in hemosample_qubit_table.csv. This .csv is all the hemolymph sampling data, as well as the Qubit data up until now.
hemo_qubit <- read.csv("analyses/hemosample_qubit_table.csv")
#read in hemosample_qubit_table.csv. This .csv is all the hemolymph sampling data, as well as the Qubit data up until now.
hemo_qubit <- read.csv("analyses/hemosample_qubit_table.csv")
#read in the new qubit csv
qubitnew <- read.csv("data/Qubit_data/QubitData_2018-10-10_18-19-56_UTF8.csv")
# Add in tube numbers to Qubit file in a new column called "tube_number"
qubitnew$tube_number <- c("491-1","452-1","455-1","405-1","430-1","441-1","437-1","418-1","410-1","493-1")
qubitnew$tube_number <- as.character(qubitnew$tube_number)
#rename "Original.sample.conc." column name to include units -- "Original_sample_conc_ng.ul" in order to get rid of unit column, as well as to be able to join with hemosample_qubit_table.csv
colnames(qubitnew)[colnames(qubitnew)=="Original.sample.conc."] <- "Original_sample_conc_ng.ul"
View(qubitnew)
#rename "Test.Date" to "Test_Date" so that it joins correctly with hemoqubit
colnames(qubitnew)[colnames(qubitnew)=="Test.Date"] <- "Test_Date"
#before joining with hemo_qubit, add column with contents of extraction type, and whether lyophilized
qubitnew$extraction_method <- "Tri-reagent"
qubitnew$lyophilized_y_n <- "n"
#change "Original_sampel_conc_ng.ul" to character
qubitnew$Original_sample_conc_ng.ul <- as.character(qubitnew$Original_sample_conc_ng.ul)
#replace "Out of range" in "Original_sample_conc_ng.ul" to "0"s
qubitnew[qubitnew$Original_sample_conc_ng.ul == "Out of range",]$Original_sample_conc_ng.ul = 0
# add total_sample_vol_ul and total_yield_ng
# make sure that the "total_sample_vol_ul" is the ul of sample remaining after Qubit reading
qubitnew$total_sample_vol_ul <- "5"
# make "total_sample_vol_ul" and "Original_sample_conc_ng.ul" into numeric
qubitnew$total_sample_vol_ul <- as.numeric(qubitnew$total_sample_vol_ul)
qubitnew$Original_sample_conc_ng.ul <- as.numeric(qubitnew$Original_sample_conc_ng.ul)
# make "Original_sample_conc_ng.ul" and "total_sample_vol_ul" into objects
x <- qubitnew$Original_sample_conc_ng.ul
y <- qubitnew$total_sample_vol_ul
# make new column called "total_yield_ng" that multiplies "Original_sample_conc_ng.ul" and "total_sample_vol_ul"
qubitnew$total_yield_ng <- x * y
#list column names
colnames(qubitnew)
#call out the columns of interest of qubitnew
qubitnew2 <- subset(qubitnew, select = c(tube_number, Test_Date, Original_sample_conc_ng.ul, total_sample_vol_ul, total_yield_ng, extraction_method, lyophilized_y_n))
hemo_qubit$tube_number <- as.character(hemo_qubit$tube_number)
#change some columns in qubitnew2 to match type in hemo_qubit
qubitnew2$Original_sample_conc_ng.ul <- as.factor(qubitnew2$Original_sample_conc_ng.ul)
View(qubitnew)
View(qubitnew2)
qubitnew2$total_sample_vol_ul <- as.integer(qubitnew2$total_sample_vol_ul)
qubitnew2$total_yield_ng <- as.factor(qubitnew2$total_yield_ng)
qubitnew2$extraction_method <- as.factor(qubitnew2$extraction_method)
qubitnew2$lyophilized_y_n <- as.factor(qubitnew2$lyophilized_y_n)
#check subset qubit file visually before joining with hemosample_qubit_table.csv
#change tube number in hemo_qubit to character to match qubitnew2
hemo_qubit$tube_number <- as.character(hemo_qubit$tube_number)
#left_join with hemo_qubit
hemo_qubit2 <- left_join(hemo_qubit, qubitnew2, by = "tube_number")
library(tidyverse)
library(dplyr)
#left_join with hemo_qubit
hemo_qubit2 <- left_join(hemo_qubit, qubitnew2, by = "tube_number")
View(hemo_qubit2)
